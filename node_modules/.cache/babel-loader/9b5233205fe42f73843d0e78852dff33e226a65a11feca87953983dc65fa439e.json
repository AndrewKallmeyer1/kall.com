{"ast":null,"code":"import { mediaStoreContext } from \"./chunk.O2H47C42.js\";\nimport { __decorateClass } from \"./chunk.LNH2V2XS.js\";\n\n// src/ui/time/TimeElement.ts\nimport { derived, DisposalBin, formatTime } from \"@vidstack/foundation\";\nimport { css, html, LitElement } from \"lit\";\nimport { property, state } from \"lit/decorators.js\";\nvar TimeElement = class extends LitElement {\n  constructor() {\n    super(...arguments);\n    this._disposal = new DisposalBin();\n    this._mediaStoreConsumer = mediaStoreContext.consume(this);\n    this.__seconds = 0;\n    this.type = \"current\";\n    this.showHours = false;\n    this.padHours = false;\n    this.remainder = false;\n  }\n  static get styles() {\n    return [css`\n        :host {\n          display: inline-block;\n          contain: content;\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n      `];\n  }\n  get _mediaStore() {\n    return this._mediaStoreConsumer.value;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this._handleTypeChange();\n  }\n  update(changedProperties) {\n    if (changedProperties.has(\"type\") || changedProperties.has(\"remainder\")) {\n      this._handleTypeChange();\n    }\n    super.update(changedProperties);\n  }\n  disconnectedCallback() {\n    this._disposal.empty();\n    super.disconnectedCallback();\n  }\n  render() {\n    return html`${this._getFormattedTime()}`;\n  }\n  _handleTypeChange() {\n    this._disposal.empty();\n    const store = this._getTypeStore();\n    const unsub = (this.remainder ? this._createRemainderStore(store) : store).subscribe($seconds => {\n      this.__seconds = $seconds;\n    });\n    this._disposal.add(unsub);\n  }\n  _getTypeStore() {\n    switch (this.type) {\n      case \"buffered\":\n        return this._mediaStore.bufferedAmount;\n      case \"seekable\":\n        return this._mediaStore.seekableAmount;\n      case \"duration\":\n        return this._mediaStore.duration;\n      default:\n        return this._mediaStore.currentTime;\n    }\n  }\n  _createRemainderStore(secondsStore) {\n    return derived([secondsStore, this._mediaStore.duration], ([$seconds, $duration]) => Math.max(0, $duration - $seconds));\n  }\n  _getFormattedTime() {\n    return formatTime(this.__seconds, this.padHours, this.showHours);\n  }\n};\n__decorateClass([state()], TimeElement.prototype, \"__seconds\", 2);\n__decorateClass([property()], TimeElement.prototype, \"type\", 2);\n__decorateClass([property({\n  attribute: \"show-hours\",\n  type: Boolean\n})], TimeElement.prototype, \"showHours\", 2);\n__decorateClass([property({\n  attribute: \"pad-hours\",\n  type: Boolean\n})], TimeElement.prototype, \"padHours\", 2);\n__decorateClass([property({\n  type: Boolean\n})], TimeElement.prototype, \"remainder\", 2);\nexport { TimeElement };","map":{"version":3,"names":["mediaStoreContext","__decorateClass","derived","DisposalBin","formatTime","css","html","LitElement","property","state","TimeElement","constructor","arguments","_disposal","_mediaStoreConsumer","consume","__seconds","type","showHours","padHours","remainder","styles","_mediaStore","value","connectedCallback","_handleTypeChange","update","changedProperties","has","disconnectedCallback","empty","render","_getFormattedTime","store","_getTypeStore","unsub","_createRemainderStore","subscribe","$seconds","add","bufferedAmount","seekableAmount","duration","currentTime","secondsStore","$duration","Math","max","prototype","attribute","Boolean"],"sources":["/Users/andrewkallmeyer/kall.com/node_modules/@vidstack/player/dist/dev/chunks/chunk.AKP4QMGQ.js"],"sourcesContent":["import {\n  mediaStoreContext\n} from \"./chunk.O2H47C42.js\";\nimport {\n  __decorateClass\n} from \"./chunk.LNH2V2XS.js\";\n\n// src/ui/time/TimeElement.ts\nimport { derived, DisposalBin, formatTime } from \"@vidstack/foundation\";\nimport { css, html, LitElement } from \"lit\";\nimport { property, state } from \"lit/decorators.js\";\nvar TimeElement = class extends LitElement {\n  constructor() {\n    super(...arguments);\n    this._disposal = new DisposalBin();\n    this._mediaStoreConsumer = mediaStoreContext.consume(this);\n    this.__seconds = 0;\n    this.type = \"current\";\n    this.showHours = false;\n    this.padHours = false;\n    this.remainder = false;\n  }\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: inline-block;\n          contain: content;\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n      `\n    ];\n  }\n  get _mediaStore() {\n    return this._mediaStoreConsumer.value;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this._handleTypeChange();\n  }\n  update(changedProperties) {\n    if (changedProperties.has(\"type\") || changedProperties.has(\"remainder\")) {\n      this._handleTypeChange();\n    }\n    super.update(changedProperties);\n  }\n  disconnectedCallback() {\n    this._disposal.empty();\n    super.disconnectedCallback();\n  }\n  render() {\n    return html`${this._getFormattedTime()}`;\n  }\n  _handleTypeChange() {\n    this._disposal.empty();\n    const store = this._getTypeStore();\n    const unsub = (this.remainder ? this._createRemainderStore(store) : store).subscribe(\n      ($seconds) => {\n        this.__seconds = $seconds;\n      }\n    );\n    this._disposal.add(unsub);\n  }\n  _getTypeStore() {\n    switch (this.type) {\n      case \"buffered\":\n        return this._mediaStore.bufferedAmount;\n      case \"seekable\":\n        return this._mediaStore.seekableAmount;\n      case \"duration\":\n        return this._mediaStore.duration;\n      default:\n        return this._mediaStore.currentTime;\n    }\n  }\n  _createRemainderStore(secondsStore) {\n    return derived(\n      [secondsStore, this._mediaStore.duration],\n      ([$seconds, $duration]) => Math.max(0, $duration - $seconds)\n    );\n  }\n  _getFormattedTime() {\n    return formatTime(this.__seconds, this.padHours, this.showHours);\n  }\n};\n__decorateClass([\n  state()\n], TimeElement.prototype, \"__seconds\", 2);\n__decorateClass([\n  property()\n], TimeElement.prototype, \"type\", 2);\n__decorateClass([\n  property({ attribute: \"show-hours\", type: Boolean })\n], TimeElement.prototype, \"showHours\", 2);\n__decorateClass([\n  property({ attribute: \"pad-hours\", type: Boolean })\n], TimeElement.prototype, \"padHours\", 2);\n__decorateClass([\n  property({ type: Boolean })\n], TimeElement.prototype, \"remainder\", 2);\n\nexport {\n  TimeElement\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}