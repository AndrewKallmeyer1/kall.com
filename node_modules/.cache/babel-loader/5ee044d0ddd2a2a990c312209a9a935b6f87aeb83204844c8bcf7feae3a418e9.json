{"ast":null,"code":"// src/utils/events.ts\nfunction listen(target, type, listener, options) {\n  target.addEventListener(type, listener, options);\n  return () => {\n    target.removeEventListener(type, listener, options);\n  };\n}\nfunction eventTypeIncludes(event, types) {\n  return types.some(type => event?.type.includes(type) ?? false);\n}\nfunction isPointerEvent(event) {\n  return eventTypeIncludes(event, [\"pointer\"]);\n}\nfunction isTouchEvent(event) {\n  return eventTypeIncludes(event, [\"touch\"]);\n}\nfunction isMouseEvent(event) {\n  return eventTypeIncludes(event, [\"click\", \"mouse\"]);\n}\nasync function waitForEvent(target, type, options) {\n  return new Promise((resolve, reject) => {\n    const timerId = window.setTimeout(() => {\n      reject(`Timed out waiting for event \\`${type}\\`.`);\n    }, options?.timeout ?? 1e3);\n    listen(target, type, event => {\n      window.clearTimeout(timerId);\n      resolve(event);\n    }, options);\n  });\n}\nvar DisposalBin = class {\n  constructor() {\n    this._disposal = this._disposal ?? [];\n  }\n  add(...callbacks) {\n    if (callbacks) {\n      callbacks.forEach(cb => {\n        this._disposal.push(cb);\n      });\n    }\n  }\n  empty() {\n    this._disposal.forEach(fn => fn());\n    this._disposal = [];\n  }\n};\n\n// src/events/event-listener.ts\nfunction eventListener(host, type, listener, options) {\n  let off;\n  function attach() {\n    if (!off) {\n      off = listen(options?.target ?? host, type, listener, options);\n    }\n  }\n  attach();\n  host.addController({\n    hostConnected() {\n      attach();\n    },\n    hostDisconnected() {\n      off?.();\n      off = void 0;\n    }\n  });\n}\n\n// src/events/VdsEvent.ts\nvar VdsEvent = class extends CustomEvent {\n  constructor(type, eventInit = {}) {\n    super(type, eventInit);\n    this.triggerEvent = eventInit.triggerEvent;\n    if (!this.hasOwnProperty(\"originEvent\")) {\n      Object.defineProperties(this, {\n        originEvent: {\n          get() {\n            return getOriginEvent(this) ?? this;\n          }\n        },\n        isOriginTrusted: {\n          get() {\n            return getOriginEvent(this)?.isTrusted ?? false;\n          }\n        }\n      });\n    }\n  }\n  get originEvent() {\n    return getOriginEvent(this) ?? this;\n  }\n  get isOriginTrusted() {\n    return this.originEvent?.isTrusted ?? false;\n  }\n};\nfunction vdsEvent(type, eventInit = {}) {\n  return new VdsEvent(type, eventInit);\n}\nfunction isVdsEvent(event) {\n  return event?.hasOwnProperty(\"triggerEvent\") ?? false;\n}\nfunction getOriginEvent(event) {\n  let triggerEvent = event.triggerEvent;\n  while (triggerEvent && triggerEvent.triggerEvent) {\n    triggerEvent = triggerEvent.triggerEvent;\n  }\n  return triggerEvent;\n}\nfunction walkTriggerEventChain(event, callback) {\n  if (!isVdsEvent(event)) return;\n  let triggerEvent = event.triggerEvent;\n  while (triggerEvent && triggerEvent.triggerEvent) {\n    const returnValue = callback(triggerEvent);\n    if (returnValue) return [triggerEvent, returnValue];\n    triggerEvent = triggerEvent.triggerEvent;\n  }\n  return;\n}\nfunction findTriggerEvent(event, eventType) {\n  return walkTriggerEventChain(event, e => e.type === eventType)?.[0];\n}\nfunction hasTriggerEvent(event, eventType) {\n  return !!findTriggerEvent(event, eventType);\n}\nfunction appendTriggerEvent(event, triggerEvent) {\n  (getOriginEvent(event) ?? event).triggerEvent = triggerEvent;\n}\n\n// src/events/redispatch.ts\nfunction redispatchEvent(target, event) {\n  if (event.bubbles && event.composed) return;\n  const newEvent = new VdsEvent(event.type, {\n    triggerEvent: event.triggerEvent ?? event,\n    detail: event.detail,\n    bubbles: event.bubbles,\n    cancelable: event.cancelable,\n    composed: event.composed\n  });\n  target.dispatchEvent(newEvent);\n}\n\n// src/context/ContextConsumerController.ts\nvar orphanConsumers = /* @__PURE__ */new Map();\nvar ContextConsumerController = class {\n  constructor(_host, initialValue, _options) {\n    this._host = _host;\n    this.initialValue = initialValue;\n    this._options = _options;\n    this._registrationCallbacks = [];\n    _host.addController({\n      hostConnected: () => {\n        this._connect();\n      },\n      hostDisconnected: () => {\n        delete this._host[this.id];\n      }\n    });\n  }\n  get id() {\n    return this._options.id;\n  }\n  get value() {\n    return this._host[this.id] ?? this.initialValue;\n  }\n  get registered() {\n    return this.id in this._host;\n  }\n  _connect() {\n    if (this.id in this._host) return;\n    const setValue = value => {\n      this._host[this.id] = value;\n      this._registrationCallbacks?.forEach(fn => fn(value));\n      this._registrationCallbacks = void 0;\n    };\n    this._host.dispatchEvent(vdsEvent(\"vds-context-consumer-connect\", {\n      bubbles: true,\n      composed: true,\n      detail: {\n        id: this.id,\n        setValue\n      }\n    }));\n    if (!this.registered) {\n      const orphans = orphanConsumers.get(this.id) ?? [];\n      orphans.push({\n        host: this._host,\n        setValue\n      });\n      orphanConsumers.set(this.id, orphans);\n    }\n  }\n  whenRegistered(callback) {\n    if (this.registered) {\n      callback(this.value);\n      return;\n    }\n    this._registrationCallbacks?.push(callback);\n  }\n};\nfunction adoptOrphans(id, provider) {\n  const orphans = orphanConsumers.get(id) ?? [];\n  const adoptees = orphans.filter(({\n    host\n  }) => provider.contains(host));\n  orphanConsumers.set(id, orphans.filter(({\n    host\n  }) => !provider.contains(host)));\n  return adoptees;\n}\n\n// src/context/ContextProviderController.ts\nvar ContextProviderController = class {\n  constructor(_host, _initValue, _options) {\n    this._host = _host;\n    this._initValue = _initValue;\n    this._options = _options;\n    this._stopDisposal = new DisposalBin();\n    this._value = _initValue();\n    _host.addController({\n      hostConnected: this.start.bind(this),\n      hostDisconnected: this.stop.bind(this)\n    });\n  }\n  get id() {\n    return this._options.id;\n  }\n  get value() {\n    return this._value;\n  }\n  start() {\n    const dispose = listen(this._host, \"vds-context-consumer-connect\", this._handleConsumerConnect.bind(this));\n    for (const orphan of adoptOrphans(this.id, this._host)) {\n      orphan.setValue(this._value);\n    }\n    this._stopDisposal.add(dispose);\n  }\n  stop() {\n    this._stopDisposal.empty();\n  }\n  _handleConsumerConnect(event) {\n    const consumer = event.detail;\n    if (consumer.id !== this.id) return;\n    event.stopImmediatePropagation();\n    consumer.setValue(this._value);\n  }\n};\n\n// src/context/context.ts\nfunction createContext(initValue) {\n  const id = Symbol(\"@vidstack/context\");\n  return {\n    id,\n    consume(host) {\n      return new ContextConsumerController(host, initValue(), {\n        id\n      });\n    },\n    provide(host) {\n      return new ContextProviderController(host, initValue, {\n        id\n      });\n    }\n  };\n}\nfunction isContext(context) {\n  return typeof context?.id === \"symbol\" && context.id.description === \"@vidstack/context\";\n}\n\n// src/directives/if-non-empty.ts\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nfunction ifNonEmpty(value) {\n  return ifDefined(value === \"\" || value === \"undefined\" ? void 0 : value);\n}\n\n// src/directives/if-number.ts\nimport { ifDefined as ifDefined2 } from \"lit/directives/if-defined.js\";\n\n// src/utils/unit.ts\nfunction noop(...args) {}\nfunction notEqual(valueA, valueB) {\n  return valueB !== valueA && (valueB === valueB || valueA === valueA);\n}\nfunction safeNotEqual(a, b) {\n  return a != a ? b == b : a !== b || a && typeof a === \"object\" || typeof a === \"function\";\n}\nfunction equal(valueA, valueB) {\n  return !notEqual(valueA, valueB);\n}\nfunction isNull(value) {\n  return value === null;\n}\nfunction isUndefined(value) {\n  return typeof value === \"undefined\";\n}\nfunction isNil(value) {\n  return isNull(value) || isUndefined(value);\n}\nfunction isObject(value) {\n  return value?.constructor === Object;\n}\nfunction isNumber(value) {\n  return typeof value === \"number\" && !Number.isNaN(value);\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction createRegex(regex) {\n  return isString(regex) ? new RegExp(regex) : regex;\n}\nfunction isWindow(value) {\n  return value === window;\n}\n\n// src/directives/if-number.ts\nfunction ifNumber(value) {\n  return ifDefined2(isNumber(value) ? value : void 0);\n}\n\n// src/elements/discovery/discover.ts\nvar discoverers = /* @__PURE__ */new Map();\nvar discoverables = /* @__PURE__ */new Map();\nfunction connect(discoverable2, id, onDisconnect) {\n  for (const {\n    host,\n    callback\n  } of Array.from(discoverers.get(id) ?? [])) {\n    if (host !== discoverable2 && host.contains(discoverable2)) {\n      callback(discoverable2, onDisconnect);\n    }\n  }\n}\nfunction find(host, id) {\n  return Array.from(discoverables.get(id) ?? []).filter(({\n    element\n  }) => host !== element && host.contains(element));\n}\nfunction discover(host, id, callback) {\n  const discoverer = {\n    host,\n    callback\n  };\n  host.addController({\n    hostConnected: () => {\n      for (const {\n        element,\n        onDisconnect\n      } of find(host, id)) {\n        callback(element, onDisconnect);\n      }\n      discoverers.set(id, (discoverers.get(id) ?? /* @__PURE__ */new Set()).add(discoverer));\n    },\n    hostDisconnected: () => {\n      discoverers.get(id)?.delete(discoverer);\n    }\n  });\n}\nfunction discoverable(host, eventType, options = {}) {\n  const id = options.register;\n  const disconnectDisposal = new DisposalBin();\n  const onDisconnect = callback => {\n    disconnectDisposal.add(callback);\n  };\n  const discoverable2 = {\n    element: host,\n    onDisconnect\n  };\n  host.addController({\n    hostConnected() {\n      const event = vdsEvent(eventType, {\n        bubbles: true,\n        composed: true,\n        detail: discoverable2\n      });\n      host.dispatchEvent(event);\n      if (id) {\n        discoverables.set(id, (discoverables.get(id) ?? /* @__PURE__ */new Set()).add(discoverable2));\n        connect(host, id, onDisconnect);\n      }\n    },\n    hostDisconnected() {\n      disconnectDisposal.empty();\n      if (id) {\n        discoverables.get(id)?.delete(discoverable2);\n      }\n    }\n  });\n}\n\n// src/utils/support.ts\nvar IS_CLIENT = typeof window !== \"undefined\";\nvar UA = IS_CLIENT ? window.navigator?.userAgent.toLowerCase() : \"\";\nvar IS_IOS = /iphone|ipad|ipod|ios|CriOS|FxiOS/.test(UA);\nvar IS_ANDROID = /android/.test(UA);\nvar IS_MOBILE = IS_CLIENT && (IS_IOS || IS_ANDROID);\nvar IS_IPHONE = IS_CLIENT && /(iPhone|iPod)/gi.test(window.navigator?.platform);\nvar IS_FIREFOX = /firefox/.test(UA);\nvar IS_CHROME = IS_CLIENT && !!window.chrome;\nvar IS_SAFARI = IS_CLIENT && !IS_CHROME && (window.safari || IS_IOS || /(apple|safari)/.test(UA));\nvar ORIGIN = IS_CLIENT && window.location.protocol !== \"file:\" ? `${window.location.protocol}//${window.location.hostname}` : void 0;\nfunction currentSafariVersion() {\n  return IS_CLIENT ? Number((/Safari\\/(\\d+)/.exec(navigator.userAgent) ?? [\"\", 0])[1]) : 0;\n}\nfunction canFullscreenVideo() {\n  if (!IS_CLIENT) return false;\n  const video = document.createElement(\"video\");\n  return isFunction(video.webkitEnterFullscreen);\n}\nfunction canObserveIntersection() {\n  return IS_CLIENT && !isUndefined(window.IntersectionObserver);\n}\nfunction canOrientScreen() {\n  return IS_CLIENT && !isUndefined(screen.orientation) && isFunction(screen.orientation.lock) && isFunction(screen.orientation.unlock);\n}\nfunction canRotateScreen() {\n  return IS_CLIENT && !isUndefined(window.screen.orientation) && !isUndefined(window.screen.orientation.lock);\n}\nfunction isReducedMotionPreferred() {\n  return IS_CLIENT && \"matchMedia\" in window && window.matchMedia(\"(prefers-reduced-motion)\").matches;\n}\nfunction canPlayHLSNatively() {\n  if (!IS_CLIENT) return false;\n  const video = document.createElement(\"video\");\n  return video.canPlayType(\"application/vnd.apple.mpegurl\").length > 0;\n}\nfunction canUsePiPInChrome() {\n  if (!IS_CLIENT) return false;\n  const video = document.createElement(\"video\");\n  return !!document.pictureInPictureEnabled && !video.disablePictureInPicture;\n}\nfunction canUsePiPInSafari() {\n  if (!IS_CLIENT) return false;\n  const video = document.createElement(\"video\");\n  return isFunction(video.webkitSupportsPresentationMode) && isFunction(video.webkitSetPresentationMode) && !IS_IPHONE;\n}\nfunction canUsePiP() {\n  return canUsePiPInChrome() || canUsePiPInSafari();\n}\nfunction canAutoplay(muted = true, playsinline = true) {\n  if (!IS_CLIENT) return Promise.resolve(false);\n  const video = document.createElement(\"video\");\n  if (muted) {\n    video.setAttribute(\"muted\", \"\");\n    video.muted = true;\n  }\n  if (playsinline) {\n    video.setAttribute(\"playsinline\", \"\");\n    video.setAttribute(\"webkit-playsinline\", \"\");\n  }\n  video.setAttribute(\"height\", \"0\");\n  video.setAttribute(\"width\", \"0\");\n  video.style.position = \"fixed\";\n  video.style.top = \"0\";\n  video.style.width = \"0\";\n  video.style.height = \"0\";\n  video.style.opacity = \"0\";\n  new Promise(resolve => resolve(video.play())).catch(noop);\n  return Promise.resolve(!video.paused);\n}\nfunction getMediaSource() {\n  return window?.MediaSource ?? window?.WebKitMediaSource;\n}\nfunction getSourceBuffer() {\n  return window?.SourceBuffer ?? window?.WebKitSourceBuffer;\n}\nfunction isHlsjsSupported() {\n  const mediaSource = getMediaSource();\n  if (isUndefined(mediaSource)) {\n    return false;\n  }\n  const isTypeSupported = mediaSource && isFunction(mediaSource.isTypeSupported) && mediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"');\n  const sourceBuffer = getSourceBuffer();\n  const isSourceBufferValid = isUndefined(sourceBuffer) || !isUndefined(sourceBuffer.prototype) && isFunction(sourceBuffer.prototype.appendBuffer) && isFunction(sourceBuffer.prototype.remove);\n  return !!isTypeSupported && !!isSourceBufferValid;\n}\n\n// src/elements/WithFocus.ts\nvar focusableSelector = `\n  ${[\"a[href]\", \"area[href]\", `input:not([disabled]):not([tabindex='-1'])`, `button:not([disabled]):not([tabindex='-1'])`, `select:not([disabled]):not([tabindex='-1'])`, `textarea:not([disabled]):not([tabindex='-1'])`, \"iframe\", \"object\", \"embed\", `*[tabindex]:not([tabindex='-1'])`, \"*[contenteditable=true]\", \"vds-fullscreen-button\", \"vds-mute-button\", \"vds-play-button\", \"vds-slider\", \"vds-time-slider\", \"vds-volume-slider\"].join(\", \")}\n`;\nfunction WithFocus(Base) {\n  return class WithFocusMixin extends Base {\n    static get shadowRootOptions() {\n      return {\n        ...Base.shadowRootOptions,\n        delegatesFocus: currentSafariVersion() <= 537\n      };\n    }\n    focus() {\n      if (this.shadowRoot?.delegatesFocus) {\n        super.focus();\n      } else {\n        const delegateTarget = this.shadowRoot?.querySelector(focusableSelector) || this.querySelector(focusableSelector);\n        if (delegateTarget) {\n          delegateTarget.focus();\n        } else {\n          super.focus();\n        }\n      }\n    }\n  };\n}\n\n// ../../node_modules/.pnpm/fscreen@1.2.0/node_modules/fscreen/dist/fscreen.esm.js\nvar key = {\n  fullscreenEnabled: 0,\n  fullscreenElement: 1,\n  requestFullscreen: 2,\n  exitFullscreen: 3,\n  fullscreenchange: 4,\n  fullscreenerror: 5,\n  fullscreen: 6\n};\nvar webkit = [\"webkitFullscreenEnabled\", \"webkitFullscreenElement\", \"webkitRequestFullscreen\", \"webkitExitFullscreen\", \"webkitfullscreenchange\", \"webkitfullscreenerror\", \"-webkit-full-screen\"];\nvar moz = [\"mozFullScreenEnabled\", \"mozFullScreenElement\", \"mozRequestFullScreen\", \"mozCancelFullScreen\", \"mozfullscreenchange\", \"mozfullscreenerror\", \"-moz-full-screen\"];\nvar ms = [\"msFullscreenEnabled\", \"msFullscreenElement\", \"msRequestFullscreen\", \"msExitFullscreen\", \"MSFullscreenChange\", \"MSFullscreenError\", \"-ms-fullscreen\"];\nvar document2 = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" ? window.document : {};\nvar vendor = \"fullscreenEnabled\" in document2 && Object.keys(key) || webkit[0] in document2 && webkit || moz[0] in document2 && moz || ms[0] in document2 && ms || [];\nvar fscreen = {\n  requestFullscreen: function (element) {\n    return element[vendor[key.requestFullscreen]]();\n  },\n  requestFullscreenFunction: function (element) {\n    return element[vendor[key.requestFullscreen]];\n  },\n  get exitFullscreen() {\n    return document2[vendor[key.exitFullscreen]].bind(document2);\n  },\n  get fullscreenPseudoClass() {\n    return \":\" + vendor[key.fullscreen];\n  },\n  addEventListener: function (type, handler, options) {\n    return document2.addEventListener(vendor[key[type]], handler, options);\n  },\n  removeEventListener: function (type, handler, options) {\n    return document2.removeEventListener(vendor[key[type]], handler, options);\n  },\n  get fullscreenEnabled() {\n    return Boolean(document2[vendor[key.fullscreenEnabled]]);\n  },\n  set fullscreenEnabled(val) {},\n  get fullscreenElement() {\n    return document2[vendor[key.fullscreenElement]];\n  },\n  set fullscreenElement(val) {},\n  get onfullscreenchange() {\n    return document2[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()];\n  },\n  set onfullscreenchange(handler) {\n    return document2[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()] = handler;\n  },\n  get onfullscreenerror() {\n    return document2[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()];\n  },\n  set onfullscreenerror(handler) {\n    return document2[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()] = handler;\n  }\n};\nvar fscreen_esm_default = fscreen;\n\n// src/logger/events.ts\nfunction logEvent(level, ...data) {\n  return vdsEvent(\"vds-log\", {\n    bubbles: true,\n    composed: true,\n    detail: {\n      level,\n      data\n    }\n  });\n}\n\n// src/logger/grouped-log.ts\nvar GROUPED_LOG_ID = Symbol(\"@vidstack/grouped-log\");\nfunction isGroupedLog(data) {\n  return isObject(data) && data[GROUPED_LOG_ID] === true;\n}\nfunction groupedLog(title, parent) {\n  const logs = [];\n  const group = {\n    [GROUPED_LOG_ID]: true,\n    title,\n    logs,\n    log(...data) {\n      logs.push({\n        data\n      });\n      return group;\n    },\n    labelledLog(label, ...data) {\n      logs.push({\n        label,\n        data\n      });\n      return group;\n    },\n    groupStart(title2) {\n      return groupedLog(title2, group);\n    },\n    groupEnd() {\n      parent?.logs.push(group);\n      return parent ?? group;\n    }\n  };\n  return group;\n}\n\n// src/logger/LogDispatcher.ts\nvar LogDispatcher = class {\n  constructor(_host) {\n    this._host = _host;\n  }\n  error(...data) {\n    this._dispatch(\"error\", ...data);\n  }\n  warn(...data) {\n    this._dispatch(\"warn\", ...data);\n  }\n  info(...data) {\n    this._dispatch(\"info\", ...data);\n  }\n  debug(...data) {\n    this._dispatch(\"debug\", ...data);\n  }\n  errorGroup(title) {\n    return this._groupDispatcher(\"error\", title);\n  }\n  warnGroup(title) {\n    return this._groupDispatcher(\"warn\", title);\n  }\n  infoGroup(title) {\n    return this._groupDispatcher(\"info\", title);\n  }\n  debugGroup(title) {\n    return this._groupDispatcher(\"debug\", title);\n  }\n  _dispatch(level, ...data) {\n    this._host.dispatchEvent(logEvent(level, ...data));\n  }\n  _groupDispatcher(level, title, rootGroup, parentGroup) {\n    const group = groupedLog(title, parentGroup);\n    group.dispatch = () => {\n      this._dispatch(level, rootGroup ?? group);\n    };\n    return {\n      ...group,\n      groupStart: title2 => {\n        return this._groupDispatcher(level, title2, rootGroup ?? group, group);\n      }\n    };\n  }\n};\n\n// src/logger/log-lifecycle.ts\nfunction logElementLifecycle(_host) {\n  const logger = new LogDispatcher(_host);\n  _host.addController({\n    hostConnected() {\n      logger.debug(\"\\u{1F517} connected\");\n    },\n    hostUpdated() {\n      logger.debug(\"\\u{1F504} updated\");\n    },\n    hostDisconnected() {\n      logger.debug(\"\\u{1F5D1}\\uFE0F disconnected\");\n    }\n  });\n}\n\n// src/logger/colors.ts\nvar LOCAL_STORAGE_KEY = \"@vidstack/log-colors\";\nvar colors = getSavedColors();\nfunction getSavedColors() {\n  if (IS_CLIENT && !isUndefined(window.localStorage)) {\n    let colors2 = {};\n    try {\n      colors2 = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY) ?? \"\");\n    } catch {}\n    return new Map(Object.entries(colors2));\n  }\n  return /* @__PURE__ */new Map();\n}\nfunction getColor(key2) {\n  return colors.get(key2);\n}\nfunction saveColor(key2, {\n  color = generateColor(),\n  overwrite = false\n} = {}) {\n  if (!colors.has(key2) || overwrite) {\n    colors.set(key2, color);\n    saveColors();\n  }\n}\nfunction generateColor() {\n  return `hsl(${Math.random() * 360}, 55%, 70%)`;\n}\nfunction saveColors() {\n  if (IS_CLIENT && !isUndefined(window.localStorage)) {\n    const map = {};\n    colors.forEach(function (value, key2) {\n      map[key2] = value;\n    });\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(map));\n  }\n}\n\n// src/logger/LogLevel.ts\nvar LogLevelValue = Object.freeze({\n  silent: 0,\n  error: 1,\n  warn: 2,\n  info: 3,\n  debug: 4\n});\nvar LogLevelColor = Object.freeze({\n  silent: \"white\",\n  error: \"hsl(6, 58%, 50%)\",\n  warn: \"hsl(51, 58%, 50%)\",\n  info: \"hsl(219, 58%, 50%)\",\n  debug: \"hsl(280, 58%, 50%)\"\n});\n\n// src/utils/number.ts\nfunction round(num, decimalPlaces = 2) {\n  return Number(num.toFixed(decimalPlaces));\n}\nfunction clampNumber(min, value, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction getNumberOfDecimalPlaces(num) {\n  return String(num).split(\".\")[1]?.length ?? 0;\n}\n\n// src/logger/ms.ts\nvar s = 1e3;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nfunction ms2(val) {\n  const msAbs = Math.abs(val);\n  if (msAbs >= d) {\n    return Math.round(val / d) + \"d\";\n  }\n  if (msAbs >= h) {\n    return Math.round(val / h) + \"h\";\n  }\n  if (msAbs >= m) {\n    return Math.round(val / m) + \"m\";\n  }\n  if (msAbs >= s) {\n    return Math.round(val / s) + \"s\";\n  }\n  return round(val, 2) + \"ms\";\n}\n\n// src/logger/LogController.ts\nvar LogController = class {\n  constructor(_host) {\n    this._host = _host;\n    this.logLevel = true ? \"warn\" : \"silent\";\n    this._disposal = new DisposalBin();\n    _host.addController({\n      hostConnected: this._start.bind(this),\n      hostDisconnected: this._stop.bind(this)\n    });\n  }\n  _start() {\n    this._disposal.add(listen(this._host, \"vds-log\", event => {\n      event.stopPropagation();\n      const eventTargetName = (event.path?.[0] ?? event.target).tagName.toLowerCase();\n      const {\n        level = \"warn\",\n        data\n      } = event.detail;\n      if (LogLevelValue[this.logLevel] < LogLevelValue[level]) {\n        return;\n      }\n      saveColor(eventTargetName);\n      const hint = data?.length === 1 && isGroupedLog(data[0]) ? data[0].title : isString(data?.[0]) ? data[0] : \"\";\n      console.groupCollapsed(`%c${level.toUpperCase()}%c ${eventTargetName}%c ${hint.slice(0, 50)}${hint.length > 50 ? \"...\" : \"\"}`, `background: ${LogLevelColor[level]}; color: white; padding: 1.5px 2.2px; border-radius: 2px; font-size: 11px;`, `color: ${getColor(eventTargetName)}; padding: 4px 0px; font-size: 11px;`, \"color: gray; font-size: 11px; padding-left: 4px;\");\n      if (data?.length === 1 && isGroupedLog(data[0])) {\n        this._logGroup(level, data[0]);\n      } else if (data) {\n        this._log(level, ...data);\n      }\n      this._logTimeDiff();\n      this._logStackTrace();\n      console.groupEnd();\n    }));\n  }\n  _stop() {\n    this._lastLogTimestamp = void 0;\n    this._disposal.empty();\n  }\n  _logGroup(level, groupedLog2) {\n    console.groupCollapsed(groupedLog2.title);\n    for (const log of groupedLog2.logs) {\n      if (isGroupedLog(log)) {\n        this._logGroup(level, log);\n      } else if (\"label\" in log && !isUndefined(log.label)) {\n        this._labelledLog(log.label, ...log.data);\n      } else {\n        this._log(level, ...log.data);\n      }\n    }\n    console.groupEnd();\n  }\n  _log(level, ...data) {\n    console[level](...data);\n  }\n  _labelledLog(label, ...data) {\n    console.log(`%c${label}:`, \"color: gray\", ...data);\n  }\n  _logStackTrace() {\n    console.groupCollapsed(\"%cStack Trace\", \"color: gray\");\n    console.trace();\n    console.groupEnd();\n  }\n  _logTimeDiff() {\n    this._labelledLog(\"Time since last log\", this._getLastLogTimeDiff());\n  }\n  _getLastLogTimeDiff() {\n    const time = performance.now();\n    const diff = time - (this._lastLogTimestamp || (this._lastLogTimestamp = performance.now()));\n    this._lastLogTimestamp = time;\n    return ms2(diff);\n  }\n};\n\n// src/fullscreen/FullscreenController.ts\nvar FullscreenController = class {\n  constructor(_host, _screenOrientationController) {\n    this._host = _host;\n    this._screenOrientationController = _screenOrientationController;\n    this._logger = true ? new LogDispatcher(this._host) : void 0;\n    this._listenerDisposal = new DisposalBin();\n    _host.addController({\n      hostDisconnected: this._handleHostDisconnected.bind(this)\n    });\n  }\n  async _handleHostDisconnected() {\n    if (this.isFullscreen) await this.exitFullscreen();\n    this._listenerDisposal.empty();\n  }\n  get isSupported() {\n    return this.isSupportedNatively;\n  }\n  get isSupportedNatively() {\n    return fscreen_esm_default.fullscreenEnabled;\n  }\n  get isFullscreen() {\n    return this.isNativeFullscreen;\n  }\n  get isNativeFullscreen() {\n    if (fscreen_esm_default.fullscreenElement === this._host) return true;\n    try {\n      return this._host.matches(fscreen_esm_default.fullscreenPseudoClass);\n    } catch (error) {\n      return false;\n    }\n  }\n  _addFullscreenChangeEventListener(listener) {\n    if (!this.isSupported) return noop;\n    if (true) {\n      this._logger?.debug(\"adding `fullscreenchange` listener\");\n    }\n    const dispose = listen(fscreen_esm_default, \"fullscreenchange\", listener);\n    return () => {\n      if (true) {\n        this._logger?.debug(\"removing `fullscreenchange` listener\");\n      }\n      dispose();\n    };\n  }\n  _addFullscreenErrorEventListener(listener) {\n    if (!this.isSupported) return noop;\n    if (true) {\n      this._logger?.debug(\"adding `fullscreenerror` listener\");\n    }\n    const dispose = listen(fscreen_esm_default, \"fullscreenerror\", listener);\n    return () => {\n      if (true) {\n        this._logger?.debug(\"removing `fullscreenerror` listener\");\n      }\n      dispose();\n    };\n  }\n  async enterFullscreen() {\n    if (this.isFullscreen) return;\n    this._throwIfNoFullscreenSupport();\n    if (true) {\n      this._logger?.debug(\"requesting fullscreen\");\n    }\n    this._listenerDisposal.add(this._addFullscreenChangeEventListener(this._handleFullscreenChange.bind(this)));\n    this._listenerDisposal.add(this._addFullscreenErrorEventListener(this._handleFullscreenError.bind(this)));\n    const response = await this._makeEnterFullscreenRequest();\n    await this._lockScreenOrientation();\n    return response;\n  }\n  async _makeEnterFullscreenRequest() {\n    return fscreen_esm_default.requestFullscreen(this._host);\n  }\n  _handleFullscreenChange(event) {\n    if (!this.isFullscreen) this._listenerDisposal.empty();\n    this._host.dispatchEvent(vdsEvent(\"vds-fullscreen-change\", {\n      bubbles: true,\n      composed: true,\n      detail: this.isFullscreen,\n      triggerEvent: event\n    }));\n  }\n  _handleFullscreenError(event) {\n    this._host.dispatchEvent(vdsEvent(\"vds-fullscreen-error\", {\n      bubbles: true,\n      composed: true,\n      triggerEvent: event\n    }));\n  }\n  async exitFullscreen() {\n    if (!this.isFullscreen) return;\n    this._throwIfNoFullscreenSupport();\n    if (true) {\n      this._logger?.debug(\"exiting fullscreen\");\n    }\n    const response = await this._makeExitFullscreenRequest();\n    await this._unlockScreenOrientation();\n    return response;\n  }\n  async _makeExitFullscreenRequest() {\n    return fscreen_esm_default.exitFullscreen();\n  }\n  _shouldOrientScreen() {\n    return this._screenOrientationController.canOrient && !isUndefined(this.screenOrientationLock);\n  }\n  async _lockScreenOrientation() {\n    if (isUndefined(this.screenOrientationLock) || !this._shouldOrientScreen()) {\n      return;\n    }\n    await this._screenOrientationController.lock(this.screenOrientationLock);\n  }\n  async _unlockScreenOrientation() {\n    if (!this._shouldOrientScreen()) return;\n    await this._screenOrientationController.unlock();\n  }\n  _throwIfNoFullscreenSupport() {\n    if (this.isSupported) return;\n    throw Error(\"Fullscreen API is not enabled or supported in this environment.\");\n  }\n};\n\n// src/observers/FocusVisibleController.ts\nvar FocusVisibleController = class {\n  constructor(_host) {\n    this._host = _host;\n    const disposal = new DisposalBin();\n    let hadKeyboardEvent = false;\n    disposal.add(listen(document, \"pointerdown\", () => {\n      hadKeyboardEvent = false;\n    }));\n    eventListener(_host, \"keydown\", e => {\n      if (e.metaKey || e.altKey || e.ctrlKey) {\n        return;\n      }\n      hadKeyboardEvent = true;\n    });\n    eventListener(_host, \"focus\", e => {\n      if (hadKeyboardEvent) {\n        _host.classList.add(\"focus-visible\");\n      }\n    });\n    eventListener(_host, \"blur\", e => {\n      _host.classList.remove(\"focus-visible\");\n    });\n    _host.addController({\n      hostDisconnected: () => {\n        disposal.empty();\n      }\n    });\n  }\n};\nfunction focusVisiblePolyfill(host) {\n  return new FocusVisibleController(host);\n}\n\n// src/observers/IntersectionController.ts\nvar IntersectionController = class {\n  constructor(_host, config = {}, _callback = () => true, _logger = true ? new LogDispatcher(_host) : void 0) {\n    this._host = _host;\n    this._callback = _callback;\n    this._logger = _logger;\n    this._skipInitial = false;\n    this._unobservedUpdate = false;\n    const {\n      target,\n      skipInitial,\n      ...intersectionObserverInit\n    } = config;\n    this._target = target ?? void 0;\n    this._skipInitial = skipInitial ?? this._skipInitial;\n    if (!window.IntersectionObserver) {\n      if (true) {\n        _logger?.warn(`Browser does not support \\`IntersectionObserver\\`.`);\n      }\n      return;\n    }\n    this._observer = new IntersectionObserver(entries => {\n      const unobservedUpdate = this._unobservedUpdate;\n      this._unobservedUpdate = false;\n      if (this._skipInitial && unobservedUpdate) return;\n      this.handleChanges(entries);\n      this._host.requestUpdate();\n    }, intersectionObserverInit);\n    _host.addController(this);\n  }\n  handleChanges(entries) {\n    this.value = this._callback(entries, this._observer);\n  }\n  hostConnected() {\n    if (this._target) {\n      this.observe(this._target);\n    }\n  }\n  hostDisconnected() {\n    this._disconnect();\n  }\n  async hostUpdated() {\n    const pendingRecords = this._observer.takeRecords();\n    if (pendingRecords.length) {\n      this.handleChanges(pendingRecords);\n    }\n  }\n  observe(target) {\n    this._observer.observe(target);\n    this._unobservedUpdate = true;\n    return () => {\n      this._observer.unobserve(target);\n    };\n  }\n  _disconnect() {\n    this._observer.disconnect();\n  }\n};\nfunction createIntersectionController(...params) {\n  return new IntersectionController(...params);\n}\n\n// src/observers/PageController.ts\nvar IS_SAFARI2 = typeof window !== \"undefined\" && typeof window.safari === \"object\" && window?.safari.pushNotification;\nvar PageController = class {\n  constructor(_host, _callback, _logger = true ? new LogDispatcher(_host) : void 0) {\n    this._host = _host;\n    this._callback = _callback;\n    this._logger = _logger;\n    this._state = this._determinePageState();\n    this._visibility = document.visibilityState;\n    this._disposal = new DisposalBin();\n    _host.addController(this);\n  }\n  get state() {\n    return this._state;\n  }\n  get visibility() {\n    return this._visibility;\n  }\n  hostConnected() {\n    const pageEvents = [\"focus\", \"blur\", \"visibilitychange\", \"pageshow\", \"pagehide\"];\n    this._state = this._determinePageState();\n    this._visibility = document.visibilityState;\n    pageEvents.forEach(pageEvent => {\n      const off = listen(window, pageEvent, this._handlePageEvent.bind(this));\n      this._disposal.add(off);\n    });\n    if (IS_SAFARI2) {\n      this._disposal.add(listen(window, \"beforeunload\", event => {\n        this._safariBeforeUnloadTimeout = setTimeout(() => {\n          if (!(event.defaultPrevented || event.returnValue.length > 0)) {\n            this._state = \"hidden\";\n            this._visibility = \"hidden\";\n            this._triggerCallback();\n          }\n        }, 0);\n      }));\n    }\n  }\n  hostDisconnected() {\n    this._disposal.empty();\n  }\n  _handlePageEvent(event) {\n    if (IS_SAFARI2) {\n      window.clearTimeout(this._safariBeforeUnloadTimeout);\n    }\n    const prevState = this._state;\n    const prevVisibility = this._visibility;\n    if (event.type !== \"blur\" || this.state === \"active\") {\n      this._state = this._determinePageState(event);\n      this._visibility = document.visibilityState == \"hidden\" ? \"hidden\" : \"visible\";\n    }\n    if (this.state !== prevState || this.visibility !== prevVisibility) {\n      this._triggerCallback();\n    }\n  }\n  _triggerCallback() {\n    this._callback({\n      state: this.state,\n      visibility: this.visibility\n    });\n  }\n  _determinePageState(event) {\n    if (false) return \"hidden\";\n    if (event?.type === \"blur\" || document.visibilityState === \"hidden\") {\n      return \"hidden\";\n    }\n    if (document.hasFocus()) {\n      return \"active\";\n    }\n    return \"passive\";\n  }\n};\n\n// src/utils/promise.ts\nfunction deferredPromise() {\n  let resolve = noop;\n  let reject = noop;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return {\n    promise,\n    resolve,\n    reject\n  };\n}\nfunction timedPromise(promise, timeout, timeoutMsg) {\n  const timer = new Promise((_, reject) => {\n    const timerId = window.setTimeout(() => {\n      window.clearTimeout(timerId);\n      reject(timeoutMsg);\n    }, timeout);\n  });\n  return Promise.race([promise, timer]);\n}\n\n// src/queue/RequestQueue.ts\nvar RequestQueue = class {\n  constructor() {\n    this._requestQueue = /* @__PURE__ */new Map();\n    this._requestKeys = [];\n    this._pendingFlush = deferredPromise();\n    this._isServing = false;\n  }\n  get isServing() {\n    return this._isServing;\n  }\n  get size() {\n    return this._requestQueue.size;\n  }\n  async waitForFlush() {\n    if (this._isServing) return;\n    await this._pendingFlush.promise;\n  }\n  queue(key2, callback) {\n    if (this._isServing) {\n      callback();\n      return;\n    }\n    this._requestKeys = [...this._requestKeys.filter(k => k !== key2), key2];\n    this._requestQueue.set(key2, callback);\n  }\n  serve(key2) {\n    this._requestQueue.get(key2)?.();\n    this._requestQueue.delete(key2);\n  }\n  start() {\n    this._flush();\n    this._isServing = true;\n    if (this._requestQueue.size > 0) {\n      this._flush();\n    }\n  }\n  _flush() {\n    for (const requestKey of this._requestKeys) {\n      this.serve(requestKey);\n    }\n    this._requestKeys = [];\n    this._release();\n  }\n  _empty() {\n    this._requestQueue.clear();\n  }\n  _release() {\n    this._pendingFlush.resolve();\n    this._pendingFlush = deferredPromise();\n  }\n  stop() {\n    this._isServing = false;\n  }\n  destroy() {\n    this.stop();\n    this._empty();\n    this._release();\n  }\n};\n\n// src/queue/host-request-queue.ts\nfunction hostRequestQueue(host) {\n  const q = new RequestQueue();\n  host.addController({\n    hostConnected: q.start.bind(q),\n    hostDisconnected: q.destroy.bind(q)\n  });\n  return q;\n}\n\n// src/screen-orientation/ScreenOrientationController.ts\nvar ScreenOrientationController = class {\n  constructor(_host) {\n    this._host = _host;\n    this._isScreenOrientationLocked = false;\n    this._logger = true ? new LogDispatcher(this._host) : void 0;\n    this._updateScreenOrientation();\n    this._listenerDisposal = new DisposalBin();\n    _host.addController({\n      hostConnected: this._handleHostConnected.bind(this),\n      hostDisconnected: this._handleHostDisconnected.bind(this)\n    });\n  }\n  async _handleHostConnected() {\n    this._updateScreenOrientation();\n    this._addScreenOrientationEventListeners();\n  }\n  async _handleHostDisconnected() {\n    if (this.canOrient && this._isScreenOrientationLocked) await this.unlock();\n    this._listenerDisposal.empty();\n  }\n  get currentOrientation() {\n    return this._screenOrientation;\n  }\n  get canOrient() {\n    return canOrientScreen();\n  }\n  get isLocked() {\n    return this._isScreenOrientationLocked;\n  }\n  async lock(lockType) {\n    this._throwIfScreenOrientationUnavailable();\n    if (true) {\n      this._logger?.debug(\"locking screen orientation to\", lockType);\n    }\n    await screen.orientation.lock(lockType);\n    this._isScreenOrientationLocked = true;\n    this._host.dispatchEvent(vdsEvent(\"vds-screen-orientation-lock-change\", {\n      bubbles: true,\n      composed: true,\n      detail: lockType\n    }));\n  }\n  async unlock() {\n    this._throwIfScreenOrientationUnavailable();\n    if (true) {\n      this._logger?.debug(\"unlocking screen orientation\");\n    }\n    await screen.orientation.unlock();\n    this._isScreenOrientationLocked = false;\n    this._host.dispatchEvent(vdsEvent(\"vds-screen-orientation-lock-change\", {\n      bubbles: true,\n      composed: true,\n      detail: screen.orientation.type\n    }));\n  }\n  _addScreenOrientationEventListeners() {\n    if (!this.canOrient) return;\n    this._listenerDisposal.add(this._addScreenOrientationChangeEventListener());\n  }\n  _addScreenOrientationChangeEventListener() {\n    return listen(screen.orientation, \"change\", this._handleOrientationChange.bind(this));\n  }\n  _handleOrientationChange(event) {\n    this._screenOrientation = window.screen.orientation.type;\n    if (this._isScreenOrientationLocked) {\n      this._logger?.debug(\"screen orientation changed to\", this._screenOrientation);\n    }\n    this._host.dispatchEvent(vdsEvent(\"vds-screen-orientation-change\", {\n      bubbles: true,\n      composed: true,\n      detail: this._screenOrientation,\n      triggerEvent: event\n    }));\n  }\n  _updateScreenOrientation() {\n    this._screenOrientation = IS_CLIENT ? window.screen?.orientation?.type : void 0;\n  }\n  _throwIfScreenOrientationUnavailable() {\n    if (this.canOrient) return;\n    throw Error(\"Screen orientation API is not available.\");\n  }\n};\n\n// src/utils/object.ts\nfunction keysOf(obj) {\n  return Object.keys(obj);\n}\nfunction pick(obj, keys) {\n  return keys.reduce((newObj, key2) => ({\n    ...newObj,\n    [key2]: obj[key2]\n  }), {});\n}\nfunction omit(obj, keys) {\n  return keysOf(obj).filter(key2 => keys.indexOf(key2) < 0).reduce((newObj, key2) => ({\n    ...newObj,\n    [key2]: obj[key2]\n  }), {});\n}\nvar hasOwnProperty = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nvar sortObjectsBy = (objects, sortKey) => objects.sort((a, b) => {\n  if (a[sortKey] === b[sortKey]) return 0;\n  return a[sortKey] < b[sortKey] ? -1 : 1;\n});\n\n// src/stores/store-subscription.ts\nfunction storeSubscription(host, store, onChange) {\n  let consumer;\n  let unsubscribe;\n  const subscribe = () => {\n    unsubscribe = (consumer?.value ?? store).subscribe(onChange);\n  };\n  if (isContext(store)) {\n    consumer = store.consume(host);\n  }\n  host.addController({\n    hostConnected() {\n      if (isContext(store)) {\n        consumer.whenRegistered(subscribe);\n      } else {\n        subscribe();\n      }\n    },\n    hostDisconnected() {\n      unsubscribe?.();\n    }\n  });\n}\n\n// src/stores/stores.ts\nvar subscriberQueue = [];\nfunction readable(value, start) {\n  return {\n    initialValue: value,\n    subscribe: writable(value, start).subscribe\n  };\n}\nfunction writable(value, start = noop) {\n  let stop;\n  const subscribers = /* @__PURE__ */new Set();\n  function set(newValue) {\n    if (safeNotEqual(value, newValue)) {\n      value = newValue;\n      if (stop) {\n        const runQueue = !subscriberQueue.length;\n        for (const subscriber of subscribers) {\n          subscriber[1]();\n          subscriberQueue.push(subscriber, value);\n        }\n        if (runQueue) {\n          for (let i = 0; i < subscriberQueue.length; i += 2) {\n            subscriberQueue[i][0](subscriberQueue[i + 1]);\n          }\n          subscriberQueue.length = 0;\n        }\n      }\n    }\n  }\n  function update(updater) {\n    set(updater(value));\n  }\n  function subscribe(run, invalidate = noop) {\n    const subscriber = [run, invalidate];\n    subscribers.add(subscriber);\n    if (subscribers.size === 1) {\n      stop = start(set) || noop;\n    }\n    run(value);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0) {\n        stop?.();\n        stop = null;\n      }\n    };\n  }\n  return {\n    initialValue: value,\n    set,\n    update,\n    subscribe\n  };\n}\nfunction derived(stores, fn, initialValue) {\n  const single = !Array.isArray(stores);\n  const storesArray = single ? [stores] : stores;\n  const auto = fn.length < 2;\n  return readable(initialValue, set => {\n    let initialized = false;\n    const values = [];\n    let pending = 0;\n    let cleanup = noop;\n    const sync = () => {\n      if (pending) {\n        return;\n      }\n      cleanup();\n      const result = fn(single ? values[0] : values, set);\n      if (auto) {\n        set(result);\n      } else {\n        cleanup = isFunction(result) ? result : noop;\n      }\n    };\n    const unsubscribers = storesArray.map((store, i) => store.subscribe(value => {\n      values[i] = value;\n      pending &= ~(1 << i);\n      if (initialized) {\n        sync();\n      }\n    }, () => {\n      pending |= 1 << i;\n    }));\n    initialized = true;\n    sync();\n    return function stop() {\n      unsubscribers.forEach(fn2 => fn2());\n      cleanup();\n    };\n  });\n}\nfunction getStoreValue(store) {\n  let value;\n  store.subscribe(_ => value = _)();\n  return value;\n}\n\n// src/stores/store-record.ts\nfunction storeRecordSubscription(host, store, key2, onChange) {\n  if (isContext(store)) {\n    const consumer = store.consume(host);\n    let unsubscribe;\n    const subscribe = () => {\n      unsubscribe = consumer.value[key2].subscribe(onChange);\n    };\n    host.addController({\n      hostConnected: () => {\n        consumer.whenRegistered(subscribe);\n      },\n      hostDisconnected: () => {\n        unsubscribe?.();\n      }\n    });\n  } else {\n    return storeSubscription(host, store[key2], onChange);\n  }\n}\nfunction copyStoreRecords(storeRecordA, storeRecordB) {\n  for (const key2 of keysOf(storeRecordA)) {\n    const storeA = storeRecordA[key2];\n    const storeB = storeRecordB[key2];\n    if (!storeA || !storeB) continue;\n    const valA = getStoreValue(storeA);\n    const valB = getStoreValue(storeB);\n    if (valA !== valB) storeB.set(valA);\n  }\n}\nfunction unwrapStoreRecord(store) {\n  return new Proxy(store, {\n    get(target, key2) {\n      return getStoreValue(target[key2]);\n    },\n    has(target, key2) {\n      return Reflect.has(target, key2);\n    },\n    ownKeys(target) {\n      return Reflect.ownKeys(target);\n    },\n    getOwnPropertyDescriptor(target, key2) {\n      return Reflect.getOwnPropertyDescriptor(target, key2);\n    }\n  });\n}\n\n// src/utils/aria.ts\nfunction ariaBool(value) {\n  return value ? \"true\" : \"false\";\n}\n\n// src/utils/array.ts\nfunction isScalarArrayEqual(arrayA, arrayB) {\n  return arrayA.length === arrayB.length && arrayA.every((value, i) => value === arrayB[i]);\n}\nfunction filterUnique(items, key2, options = {}) {\n  const seen = /* @__PURE__ */new Set();\n  return items.filter(item => {\n    if (options.removeNull && isNull(item[key2])) return false;\n    if (options.removeUndefined && isUndefined(item[key2])) return false;\n    const isUnique = !seen.has(item[key2]);\n    if (!isUnique) {\n      options.onDuplicateFound?.(item);\n    }\n    seen.add(item[key2]);\n    return isUnique;\n  });\n}\n\n// src/utils/dom.ts\nfunction raf(callback) {\n  return new Promise(resolve => {\n    const rafId = window.requestAnimationFrame(async () => {\n      await callback?.();\n      resolve(rafId);\n    });\n  });\n}\nfunction walkUpDOMTree(node, onDiscover) {\n  let parent = node.parentElement;\n  while (parent) {\n    const skip = onDiscover(parent);\n    parent = skip ? null : parent.parentElement;\n  }\n}\nfunction buildExportPartsAttr(parts, prefix) {\n  return parts.map(part => `${part}: ${!isFunction(prefix) ? prefix ? `${prefix}-` : \"\" : prefix(part)}${part}`).join(\", \");\n}\nfunction safelyDefineCustomElement(name, constructor, isClient = IS_CLIENT) {\n  const isElementRegistered = isClient && !isUndefined(window.customElements.get(name));\n  if (!isClient || isElementRegistered) return;\n  window.customElements.define(name, constructor);\n}\nfunction setAttribute(element, attrName, attrValue) {\n  if (isNil(attrValue) || attrValue === false) {\n    element.removeAttribute(attrName);\n  } else {\n    const value = isString(attrValue) ? attrValue : \"\";\n    element.setAttribute(attrName, value);\n  }\n}\nfunction setAttributeIfEmpty(element, attrName, attrValue) {\n  if (!element.hasAttribute(attrName)) {\n    element.setAttribute(attrName, attrValue);\n  }\n}\nfunction setCSSProperty(element, name, value, prefix = \"vds\") {\n  element.style.setProperty(`--${prefix}-${name}`, value ? value : null);\n}\nfunction getSlottedChildren(el, name) {\n  const selector = name ? `slot[name=\"${name}\"]` : \"slot:not([name])\";\n  const slot = el.shadowRoot?.querySelector(selector);\n  const childNodes = slot?.assignedNodes({\n    flatten: true\n  }) ?? [];\n  return Array.prototype.filter.call(childNodes, node => node.nodeType == Node.ELEMENT_NODE);\n}\nfunction getElementAttributes(elementCtor) {\n  return new Set(elementCtor.observedAttributes);\n}\nfunction observeAttributes(element, attributes, onChange, {\n  skipInitial = false\n} = {}) {\n  const callback = attrName => {\n    const attrValue = element.getAttribute(attrName);\n    onChange?.(attrName, attrValue);\n  };\n  const observer = new MutationObserver(mutations => {\n    for (const mutation of mutations) {\n      if (mutation.type === \"attributes\") {\n        callback(mutation.attributeName);\n      }\n    }\n  });\n  if (!skipInitial) {\n    for (const attrName of attributes) {\n      callback(attrName);\n    }\n  }\n  observer.observe(element, {\n    attributeFilter: Array.from(attributes)\n  });\n  return observer;\n}\nfunction requestIdleCallback(callback) {\n  if (false) {\n    callback();\n    return;\n  }\n  const idle = window.requestIdleCallback ?? (fn => fn());\n  if (document.readyState === \"complete\") {\n    idle(callback);\n  } else {\n    window.addEventListener(\"load\", () => {\n      idle(callback);\n    }, {\n      once: true\n    });\n  }\n}\n\n// src/utils/keyboard.ts\nfunction isKeyboardEvent(event) {\n  return event?.type.startsWith(\"key\") ?? false;\n}\nfunction wasEnterKeyPressed(event) {\n  return isKeyboardEvent(event) && event.key === \"Enter\";\n}\nfunction wasEscapeKeyPressed(event) {\n  return isKeyboardEvent(event) && event.key === \"Escape\";\n}\nfunction isKeyboardClick(event) {\n  return isKeyboardEvent(event) && (event.key === \"Enter\" || event.key === \" \");\n}\n\n// src/utils/network.ts\nfunction tryParseJSON(json) {\n  if (!isString(json)) return void 0;\n  try {\n    return JSON.parse(json);\n  } catch (error) {\n    return void 0;\n  }\n}\nfunction isObjOrJSON(value) {\n  return isString(value) && value.startsWith(\"{\") || isObject(value);\n}\nfunction objOrParseJSON(value) {\n  return isObject(value) ? value : tryParseJSON(value);\n}\nfunction loadImage(src, minWidth = 1) {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    const handler = () => {\n      image.naturalWidth >= minWidth ? resolve(image) : reject(image);\n    };\n    Object.assign(image, {\n      onload: handler,\n      onerror: handler,\n      src\n    });\n  });\n}\nasync function loadScript(src) {\n  const hasLoaded = document.querySelector(`script[src=\"${src}\"]`);\n  if (!isNull(hasLoaded)) return;\n  const script = document.createElement(\"script\");\n  const load = deferredPromise();\n  script.src = src;\n  script.onload = load.resolve;\n  script.onerror = load.reject;\n  const firstScriptTag = document.getElementsByTagName(\"script\")[0];\n  if (!isNil(firstScriptTag.parentNode)) {\n    firstScriptTag.parentNode.insertBefore(script, firstScriptTag);\n  }\n  return load.promise;\n}\nfunction decodeJSON(data) {\n  if (!isObjOrJSON(data)) return void 0;\n  return objOrParseJSON(data);\n}\nfunction tryDecodeURIComponent(component, fallback = \"\", isClient = IS_CLIENT) {\n  if (!isClient) return fallback;\n  try {\n    return window.decodeURIComponent(component);\n  } catch (error) {\n    return fallback;\n  }\n}\nvar QUERY_STRING_REGEX = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\nfunction parseQueryString(qs) {\n  const params = /* @__PURE__ */Object.create(null);\n  if (isUndefined(qs)) return params;\n  let match;\n  while (match = QUERY_STRING_REGEX.exec(qs)) {\n    const name = tryDecodeURIComponent(match[1], match[1]).replace(\"[]\", \"\");\n    const value = isString(match[2]) ? tryDecodeURIComponent(match[2].replace(/\\+/g, \" \"), match[2]) : \"\";\n    const currValue = params[name];\n    if (currValue && !isArray(currValue)) params[name] = [currValue];\n    currValue ? params[name].push(value) : params[name] = value;\n  }\n  return params;\n}\nfunction serializeQueryString(params) {\n  const qs = [];\n  const appendQueryParam = (param, v) => {\n    qs.push(`${encodeURIComponent(param)}=${encodeURIComponent(v)}`);\n  };\n  Object.keys(params).forEach(param => {\n    const value = params[param];\n    if (isNil(value)) return;\n    if (isArray(value)) {\n      value.forEach(v => appendQueryParam(param, v));\n    } else {\n      appendQueryParam(param, value);\n    }\n  });\n  return qs.join(\"&\");\n}\nfunction preconnect(url, rel = \"preconnect\", isClient = IS_CLIENT) {\n  if (!isClient) return false;\n  const hasLink = document.querySelector(`link[href=\"${url}\"]`);\n  if (!isNull(hasLink)) return true;\n  const link = document.createElement(\"link\");\n  link.rel = rel;\n  link.href = url;\n  link.crossOrigin = \"true\";\n  document.head.append(link);\n  return true;\n}\nfunction appendQueryStringToURL(url, qs) {\n  if (isUndefined(qs) || qs.length === 0) return url;\n  const mainAndQuery = url.split(\"?\", 2);\n  return mainAndQuery[0] + (!isUndefined(mainAndQuery[1]) ? `?${mainAndQuery[1]}&${qs}` : `?${qs}`);\n}\nfunction appendParamsToURL(url, params) {\n  return appendQueryStringToURL(url, isObject(params) ? serializeQueryString(params) : params);\n}\nfunction decodeQueryString(qs) {\n  if (!isString(qs)) return void 0;\n  return parseQueryString(qs);\n}\nvar ScriptLoader = class {\n  static async load(src) {\n    return new Promise((resolve, reject) => {\n      if (this.pendingRequests[src]) {\n        this.pendingRequests[src].push({\n          resolve,\n          reject\n        });\n        return;\n      }\n      this.pendingRequests[src] = [{\n        resolve,\n        reject\n      }];\n      loadScript(src).then(() => {\n        this.pendingRequests[src].forEach(request => request.resolve());\n        delete this.pendingRequests[src];\n      }).catch(err => {\n        this.pendingRequests[src].forEach(request => request.reject(err));\n        delete this.pendingRequests[src];\n      });\n    });\n  }\n};\nScriptLoader.pendingRequests = {};\n\n// src/utils/scroll.ts\nfunction hideDocumentScrollbar(hidden) {\n  window.requestAnimationFrame(() => {\n    document.documentElement.classList[hidden ? \"add\" : \"remove\"](\"overflow-hidden\");\n    document.documentElement.classList[!hidden ? \"add\" : \"remove\"](\"overflow-x-hidden\");\n  });\n}\nfunction scrollIntoCenter(scroll, element, options = {}) {\n  const scrollTop = isWindow(scroll) ? window.pageYOffset : scroll.scrollTop;\n  const scrollHeight = isWindow(scroll) ? window.innerHeight : scroll.getBoundingClientRect().height;\n  const elementRect = element.getBoundingClientRect();\n  const center = elementRect.top + scrollTop - scrollHeight / 2;\n  scroll.scrollTo({\n    top: center + (options?.offset ?? 0),\n    behavior: options.behaviour\n  });\n}\n\n// src/utils/string.ts\nvar escapeQuotes = str => str.replace(/^\"+|\"+$/g, \"\").replace(/^'+|'+$/g, \"\");\nvar normalizeLineBreaks = str => str.replace(/\\\\r/g, \"\\n\");\nfunction splitLineBreaks(str) {\n  if (typeof str !== \"string\") return [];\n  return normalizeLineBreaks(str).split(\"\\n\");\n}\nfunction uppercaseFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction lowercaseFirstLetter(str) {\n  return str.charAt(0).toLowerCase() + str.slice(1);\n}\nfunction kebabToTitleCase(str) {\n  return uppercaseFirstLetter(str.replace(/-./g, x => \" \" + x[1].toUpperCase()));\n}\nfunction camelToKebabCase(str) {\n  return str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\nfunction kebabToCamelCase(str) {\n  return str.replace(/-./g, x => x[1].toUpperCase());\n}\nfunction kebabToPascalCase(str) {\n  return kebabToTitleCase(str).replace(/\\s/g, \"\");\n}\nfunction camelToTitleCase(str) {\n  return uppercaseFirstLetter(str.replace(/([A-Z])/g, \" $1\"));\n}\n\n// src/utils/time.ts\nfunction padNumberWithZeroes(num, expectedLength) {\n  const str = String(num);\n  const actualLength = str.length;\n  const shouldPad = actualLength < expectedLength;\n  if (shouldPad) {\n    const padLength = expectedLength - actualLength;\n    const padding = `0`.repeat(padLength);\n    return `${padding}${num}`;\n  }\n  return str;\n}\nvar TimeUnit = /* @__PURE__ */(TimeUnit2 => {\n  TimeUnit2[\"Hours\"] = \"hours\";\n  TimeUnit2[\"Minutes\"] = \"minutes\";\n  TimeUnit2[\"Seconds\"] = \"seconds\";\n  TimeUnit2[\"Fraction\"] = \"fraction\";\n  return TimeUnit2;\n})(TimeUnit || {});\nfunction parseTime(duration) {\n  const hours = Math.trunc(duration / 3600);\n  const minutes = Math.trunc(duration % 3600 / 60);\n  const seconds = Math.trunc(duration % 60);\n  const fraction = Number((duration - Math.trunc(duration)).toPrecision(3));\n  return {\n    [\"hours\" /* Hours */]: hours,\n    [\"minutes\" /* Minutes */]: minutes,\n    [\"seconds\" /* Seconds */]: seconds,\n    [\"fraction\" /* Fraction */]: fraction\n  };\n}\nfunction formatTime(duration, shouldPadHours = false, shouldAlwaysShowHours = false) {\n  const {\n    hours,\n    minutes,\n    seconds\n  } = parseTime(duration);\n  const paddedHours = shouldPadHours ? padNumberWithZeroes(hours, 2) : hours;\n  const paddedMinutes = padNumberWithZeroes(minutes, 2);\n  const paddedSeconds = padNumberWithZeroes(seconds, 2);\n  if (hours > 0 || shouldAlwaysShowHours) {\n    return `${paddedHours}:${paddedMinutes}:${paddedSeconds}`;\n  }\n  return `${minutes}:${paddedSeconds}`;\n}\nfunction formatSpokenTime(duration) {\n  const spokenParts = [];\n  const {\n    hours,\n    minutes,\n    seconds\n  } = parseTime(duration);\n  const pluralize = (num, word) => num === 1 ? word : `${word}s`;\n  if (hours > 0) {\n    spokenParts.push(`${hours} ${pluralize(hours, \"hour\")}`);\n  }\n  if (minutes > 0) {\n    spokenParts.push(`${minutes} ${pluralize(minutes, \"minute\")}`);\n  }\n  if (seconds > 0 || spokenParts.length === 0) {\n    spokenParts.push(`${seconds} ${pluralize(seconds, \"second\")}`);\n  }\n  return spokenParts.join(\", \");\n}\nfunction formatHtml5Duration(duration) {\n  const {\n    hours,\n    minutes,\n    seconds,\n    fraction\n  } = parseTime(duration);\n  return `PT${hours}H${minutes}M${seconds + fraction}S`;\n}\n\n// src/utils/timing.ts\nimport debounce from \"just-debounce-it\";\nimport throttle from \"just-throttle\";\nfunction wait(delay) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\nfunction rafThrottle(func) {\n  let rafId;\n  const pending = () => !isUndefined(rafId);\n  const cancel = () => {\n    if (isUndefined(rafId)) return;\n    window.cancelAnimationFrame(rafId);\n    rafId = void 0;\n  };\n  function throttled(...args) {\n    if (pending()) return;\n    rafId = window.requestAnimationFrame(() => {\n      func.apply(this, args);\n      rafId = void 0;\n    });\n  }\n  throttled.cancel = cancel;\n  throttled.pending = pending;\n  return throttled;\n}\nexport { ContextConsumerController, ContextProviderController, DisposalBin, FocusVisibleController, FullscreenController, GROUPED_LOG_ID, IS_ANDROID, IS_CHROME, IS_CLIENT, IS_FIREFOX, IS_IOS, IS_IPHONE, IS_MOBILE, IS_SAFARI, IntersectionController, LogController, LogDispatcher, LogLevelColor, LogLevelValue, ORIGIN, PageController, RequestQueue, ScreenOrientationController, ScriptLoader, TimeUnit, UA, VdsEvent, WithFocus, adoptOrphans, appendParamsToURL, appendQueryStringToURL, appendTriggerEvent, ariaBool, buildExportPartsAttr, camelToKebabCase, camelToTitleCase, canAutoplay, canFullscreenVideo, canObserveIntersection, canOrientScreen, canPlayHLSNatively, canRotateScreen, canUsePiP, canUsePiPInChrome, canUsePiPInSafari, clampNumber, copyStoreRecords, createContext, createIntersectionController, createRegex, currentSafariVersion, debounce, decodeJSON, decodeQueryString, deferredPromise, derived, discover, discoverable, equal, escapeQuotes, eventListener, filterUnique, findTriggerEvent, focusVisiblePolyfill, focusableSelector, formatHtml5Duration, formatSpokenTime, formatTime, getStoreValue as get, getElementAttributes, getMediaSource, getNumberOfDecimalPlaces, getOriginEvent, getSlottedChildren, getSourceBuffer, groupedLog, hasOwnProperty, hasTriggerEvent, hideDocumentScrollbar, hostRequestQueue, ifNonEmpty, ifNumber, isArray, isBoolean, isContext, isFunction, isGroupedLog, isHlsjsSupported, isKeyboardClick, isKeyboardEvent, isMouseEvent, isNil, isNull, isNumber, isObjOrJSON, isObject, isPointerEvent, isReducedMotionPreferred, isScalarArrayEqual, isString, isTouchEvent, isUndefined, isVdsEvent, isWindow, kebabToCamelCase, kebabToPascalCase, kebabToTitleCase, keysOf, listen, loadImage, loadScript, logElementLifecycle, logEvent, lowercaseFirstLetter, noop, normalizeLineBreaks, notEqual, objOrParseJSON, observeAttributes, omit, padNumberWithZeroes, parseQueryString, parseTime, pick, preconnect, raf, rafThrottle, readable, redispatchEvent, requestIdleCallback, round, safeNotEqual, safelyDefineCustomElement, scrollIntoCenter, serializeQueryString, setAttribute, setAttributeIfEmpty, setCSSProperty, sortObjectsBy, splitLineBreaks, storeRecordSubscription, storeSubscription, throttle, timedPromise, tryDecodeURIComponent, tryParseJSON, unwrapStoreRecord, uppercaseFirstLetter, vdsEvent, wait, waitForEvent, walkTriggerEventChain, walkUpDOMTree, wasEnterKeyPressed, wasEscapeKeyPressed, writable };","map":{"version":3,"names":["listen","target","type","listener","options","addEventListener","removeEventListener","eventTypeIncludes","event","types","some","includes","isPointerEvent","isTouchEvent","isMouseEvent","waitForEvent","Promise","resolve","reject","timerId","window","setTimeout","timeout","clearTimeout","DisposalBin","constructor","_disposal","add","callbacks","forEach","cb","push","empty","fn","eventListener","host","off","attach","addController","hostConnected","hostDisconnected","VdsEvent","CustomEvent","eventInit","triggerEvent","hasOwnProperty","Object","defineProperties","originEvent","get","getOriginEvent","isOriginTrusted","isTrusted","vdsEvent","isVdsEvent","walkTriggerEventChain","callback","returnValue","findTriggerEvent","eventType","e","hasTriggerEvent","appendTriggerEvent","redispatchEvent","bubbles","composed","newEvent","detail","cancelable","dispatchEvent","orphanConsumers","Map","ContextConsumerController","_host","initialValue","_options","_registrationCallbacks","_connect","id","value","registered","setValue","orphans","set","whenRegistered","adoptOrphans","provider","adoptees","filter","contains","ContextProviderController","_initValue","_stopDisposal","_value","start","bind","stop","dispose","_handleConsumerConnect","orphan","consumer","stopImmediatePropagation","createContext","initValue","Symbol","consume","provide","isContext","context","description","ifDefined","ifNonEmpty","ifDefined2","noop","args","notEqual","valueA","valueB","safeNotEqual","a","b","equal","isNull","isUndefined","isNil","isObject","isNumber","Number","isNaN","isString","isBoolean","isFunction","isArray","Array","createRegex","regex","RegExp","isWindow","ifNumber","discoverers","discoverables","connect","discoverable2","onDisconnect","from","find","element","discover","discoverer","Set","delete","discoverable","register","disconnectDisposal","IS_CLIENT","UA","navigator","userAgent","toLowerCase","IS_IOS","test","IS_ANDROID","IS_MOBILE","IS_IPHONE","platform","IS_FIREFOX","IS_CHROME","chrome","IS_SAFARI","safari","ORIGIN","location","protocol","hostname","currentSafariVersion","exec","canFullscreenVideo","video","document","createElement","webkitEnterFullscreen","canObserveIntersection","IntersectionObserver","canOrientScreen","screen","orientation","lock","unlock","canRotateScreen","isReducedMotionPreferred","matchMedia","matches","canPlayHLSNatively","canPlayType","length","canUsePiPInChrome","pictureInPictureEnabled","disablePictureInPicture","canUsePiPInSafari","webkitSupportsPresentationMode","webkitSetPresentationMode","canUsePiP","canAutoplay","muted","playsinline","setAttribute","style","position","top","width","height","opacity","play","catch","paused","getMediaSource","MediaSource","WebKitMediaSource","getSourceBuffer","SourceBuffer","WebKitSourceBuffer","isHlsjsSupported","mediaSource","isTypeSupported","sourceBuffer","isSourceBufferValid","prototype","appendBuffer","remove","focusableSelector","join","WithFocus","Base","WithFocusMixin","shadowRootOptions","delegatesFocus","focus","shadowRoot","delegateTarget","querySelector","key","fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror","fullscreen","webkit","moz","ms","document2","vendor","keys","fscreen","requestFullscreenFunction","fullscreenPseudoClass","handler","Boolean","val","onfullscreenchange","onfullscreenerror","fscreen_esm_default","logEvent","level","data","GROUPED_LOG_ID","isGroupedLog","groupedLog","title","parent","logs","group","log","labelledLog","label","groupStart","title2","groupEnd","LogDispatcher","error","_dispatch","warn","info","debug","errorGroup","_groupDispatcher","warnGroup","infoGroup","debugGroup","rootGroup","parentGroup","dispatch","logElementLifecycle","logger","hostUpdated","LOCAL_STORAGE_KEY","colors","getSavedColors","localStorage","colors2","JSON","parse","getItem","entries","getColor","key2","saveColor","color","generateColor","overwrite","has","saveColors","Math","random","map","setItem","stringify","LogLevelValue","freeze","silent","LogLevelColor","round","num","decimalPlaces","toFixed","clampNumber","min","max","getNumberOfDecimalPlaces","String","split","s","m","h","d","ms2","msAbs","abs","LogController","logLevel","_start","_stop","stopPropagation","eventTargetName","path","tagName","hint","console","groupCollapsed","toUpperCase","slice","_logGroup","_log","_logTimeDiff","_logStackTrace","_lastLogTimestamp","groupedLog2","_labelledLog","trace","_getLastLogTimeDiff","time","performance","now","diff","FullscreenController","_screenOrientationController","_logger","_listenerDisposal","_handleHostDisconnected","isFullscreen","isSupported","isSupportedNatively","isNativeFullscreen","_addFullscreenChangeEventListener","_addFullscreenErrorEventListener","enterFullscreen","_throwIfNoFullscreenSupport","_handleFullscreenChange","_handleFullscreenError","response","_makeEnterFullscreenRequest","_lockScreenOrientation","_makeExitFullscreenRequest","_unlockScreenOrientation","_shouldOrientScreen","canOrient","screenOrientationLock","Error","FocusVisibleController","disposal","hadKeyboardEvent","metaKey","altKey","ctrlKey","classList","focusVisiblePolyfill","IntersectionController","config","_callback","_skipInitial","_unobservedUpdate","skipInitial","intersectionObserverInit","_target","_observer","unobservedUpdate","handleChanges","requestUpdate","observe","_disconnect","pendingRecords","takeRecords","unobserve","disconnect","createIntersectionController","params","IS_SAFARI2","pushNotification","PageController","_state","_determinePageState","_visibility","visibilityState","state","visibility","pageEvents","pageEvent","_handlePageEvent","_safariBeforeUnloadTimeout","defaultPrevented","_triggerCallback","prevState","prevVisibility","hasFocus","deferredPromise","promise","res","rej","timedPromise","timeoutMsg","timer","_","race","RequestQueue","_requestQueue","_requestKeys","_pendingFlush","_isServing","isServing","size","waitForFlush","queue","k","serve","_flush","requestKey","_release","_empty","clear","destroy","hostRequestQueue","q","ScreenOrientationController","_isScreenOrientationLocked","_updateScreenOrientation","_handleHostConnected","_addScreenOrientationEventListeners","currentOrientation","_screenOrientation","isLocked","lockType","_throwIfScreenOrientationUnavailable","_addScreenOrientationChangeEventListener","_handleOrientationChange","keysOf","obj","pick","reduce","newObj","omit","indexOf","prop","call","sortObjectsBy","objects","sortKey","sort","storeSubscription","store","onChange","unsubscribe","subscribe","subscriberQueue","readable","writable","subscribers","newValue","runQueue","subscriber","i","update","updater","run","invalidate","derived","stores","single","storesArray","auto","initialized","values","pending","cleanup","sync","result","unsubscribers","fn2","getStoreValue","storeRecordSubscription","copyStoreRecords","storeRecordA","storeRecordB","storeA","storeB","valA","valB","unwrapStoreRecord","Proxy","Reflect","ownKeys","getOwnPropertyDescriptor","ariaBool","isScalarArrayEqual","arrayA","arrayB","every","filterUnique","items","seen","item","removeNull","removeUndefined","isUnique","onDuplicateFound","raf","rafId","requestAnimationFrame","walkUpDOMTree","node","onDiscover","parentElement","skip","buildExportPartsAttr","parts","prefix","part","safelyDefineCustomElement","name","isClient","isElementRegistered","customElements","define","attrName","attrValue","removeAttribute","setAttributeIfEmpty","hasAttribute","setCSSProperty","setProperty","getSlottedChildren","el","selector","slot","childNodes","assignedNodes","flatten","nodeType","Node","ELEMENT_NODE","getElementAttributes","elementCtor","observedAttributes","observeAttributes","attributes","getAttribute","observer","MutationObserver","mutations","mutation","attributeName","attributeFilter","requestIdleCallback","idle","readyState","once","isKeyboardEvent","startsWith","wasEnterKeyPressed","wasEscapeKeyPressed","isKeyboardClick","tryParseJSON","json","isObjOrJSON","objOrParseJSON","loadImage","src","minWidth","image","Image","naturalWidth","assign","onload","onerror","loadScript","hasLoaded","script","load","firstScriptTag","getElementsByTagName","parentNode","insertBefore","decodeJSON","tryDecodeURIComponent","component","fallback","decodeURIComponent","QUERY_STRING_REGEX","parseQueryString","qs","create","match","replace","currValue","serializeQueryString","appendQueryParam","param","v","encodeURIComponent","preconnect","url","rel","hasLink","link","href","crossOrigin","head","append","appendQueryStringToURL","mainAndQuery","appendParamsToURL","decodeQueryString","ScriptLoader","pendingRequests","then","request","err","hideDocumentScrollbar","hidden","documentElement","scrollIntoCenter","scroll","scrollTop","pageYOffset","scrollHeight","innerHeight","getBoundingClientRect","elementRect","center","scrollTo","offset","behavior","behaviour","escapeQuotes","str","normalizeLineBreaks","splitLineBreaks","uppercaseFirstLetter","charAt","lowercaseFirstLetter","kebabToTitleCase","x","camelToKebabCase","kebabToCamelCase","kebabToPascalCase","camelToTitleCase","padNumberWithZeroes","expectedLength","actualLength","shouldPad","padLength","padding","repeat","TimeUnit","TimeUnit2","parseTime","duration","hours","trunc","minutes","seconds","fraction","toPrecision","formatTime","shouldPadHours","shouldAlwaysShowHours","paddedHours","paddedMinutes","paddedSeconds","formatSpokenTime","spokenParts","pluralize","word","formatHtml5Duration","debounce","throttle","wait","delay","rafThrottle","func","cancel","cancelAnimationFrame","throttled","apply"],"sources":["/Users/andrewkallmeyer/kall.com/node_modules/@vidstack/foundation/dist/dev/index.js"],"sourcesContent":["// src/utils/events.ts\nfunction listen(target, type, listener, options) {\n  target.addEventListener(type, listener, options);\n  return () => {\n    target.removeEventListener(type, listener, options);\n  };\n}\nfunction eventTypeIncludes(event, types) {\n  return types.some((type) => event?.type.includes(type) ?? false);\n}\nfunction isPointerEvent(event) {\n  return eventTypeIncludes(event, [\"pointer\"]);\n}\nfunction isTouchEvent(event) {\n  return eventTypeIncludes(event, [\"touch\"]);\n}\nfunction isMouseEvent(event) {\n  return eventTypeIncludes(event, [\"click\", \"mouse\"]);\n}\nasync function waitForEvent(target, type, options) {\n  return new Promise((resolve, reject) => {\n    const timerId = window.setTimeout(() => {\n      reject(`Timed out waiting for event \\`${type}\\`.`);\n    }, options?.timeout ?? 1e3);\n    listen(\n      target,\n      type,\n      (event) => {\n        window.clearTimeout(timerId);\n        resolve(event);\n      },\n      options\n    );\n  });\n}\nvar DisposalBin = class {\n  constructor() {\n    this._disposal = this._disposal ?? [];\n  }\n  add(...callbacks) {\n    if (callbacks) {\n      callbacks.forEach((cb) => {\n        this._disposal.push(cb);\n      });\n    }\n  }\n  empty() {\n    this._disposal.forEach((fn) => fn());\n    this._disposal = [];\n  }\n};\n\n// src/events/event-listener.ts\nfunction eventListener(host, type, listener, options) {\n  let off;\n  function attach() {\n    if (!off) {\n      off = listen(options?.target ?? host, type, listener, options);\n    }\n  }\n  attach();\n  host.addController({\n    hostConnected() {\n      attach();\n    },\n    hostDisconnected() {\n      off?.();\n      off = void 0;\n    }\n  });\n}\n\n// src/events/VdsEvent.ts\nvar VdsEvent = class extends CustomEvent {\n  constructor(type, eventInit = {}) {\n    super(type, eventInit);\n    this.triggerEvent = eventInit.triggerEvent;\n    if (!this.hasOwnProperty(\"originEvent\")) {\n      Object.defineProperties(this, {\n        originEvent: {\n          get() {\n            return getOriginEvent(this) ?? this;\n          }\n        },\n        isOriginTrusted: {\n          get() {\n            return getOriginEvent(this)?.isTrusted ?? false;\n          }\n        }\n      });\n    }\n  }\n  get originEvent() {\n    return getOriginEvent(this) ?? this;\n  }\n  get isOriginTrusted() {\n    return this.originEvent?.isTrusted ?? false;\n  }\n};\nfunction vdsEvent(type, eventInit = {}) {\n  return new VdsEvent(type, eventInit);\n}\nfunction isVdsEvent(event) {\n  return event?.hasOwnProperty(\"triggerEvent\") ?? false;\n}\nfunction getOriginEvent(event) {\n  let triggerEvent = event.triggerEvent;\n  while (triggerEvent && triggerEvent.triggerEvent) {\n    triggerEvent = triggerEvent.triggerEvent;\n  }\n  return triggerEvent;\n}\nfunction walkTriggerEventChain(event, callback) {\n  if (!isVdsEvent(event))\n    return;\n  let triggerEvent = event.triggerEvent;\n  while (triggerEvent && triggerEvent.triggerEvent) {\n    const returnValue = callback(triggerEvent);\n    if (returnValue)\n      return [triggerEvent, returnValue];\n    triggerEvent = triggerEvent.triggerEvent;\n  }\n  return;\n}\nfunction findTriggerEvent(event, eventType) {\n  return walkTriggerEventChain(event, (e) => e.type === eventType)?.[0];\n}\nfunction hasTriggerEvent(event, eventType) {\n  return !!findTriggerEvent(event, eventType);\n}\nfunction appendTriggerEvent(event, triggerEvent) {\n  (getOriginEvent(event) ?? event).triggerEvent = triggerEvent;\n}\n\n// src/events/redispatch.ts\nfunction redispatchEvent(target, event) {\n  if (event.bubbles && event.composed)\n    return;\n  const newEvent = new VdsEvent(event.type, {\n    triggerEvent: event.triggerEvent ?? event,\n    detail: event.detail,\n    bubbles: event.bubbles,\n    cancelable: event.cancelable,\n    composed: event.composed\n  });\n  target.dispatchEvent(newEvent);\n}\n\n// src/context/ContextConsumerController.ts\nvar orphanConsumers = /* @__PURE__ */ new Map();\nvar ContextConsumerController = class {\n  constructor(_host, initialValue, _options) {\n    this._host = _host;\n    this.initialValue = initialValue;\n    this._options = _options;\n    this._registrationCallbacks = [];\n    _host.addController({\n      hostConnected: () => {\n        this._connect();\n      },\n      hostDisconnected: () => {\n        delete this._host[this.id];\n      }\n    });\n  }\n  get id() {\n    return this._options.id;\n  }\n  get value() {\n    return this._host[this.id] ?? this.initialValue;\n  }\n  get registered() {\n    return this.id in this._host;\n  }\n  _connect() {\n    if (this.id in this._host)\n      return;\n    const setValue = (value) => {\n      this._host[this.id] = value;\n      this._registrationCallbacks?.forEach((fn) => fn(value));\n      this._registrationCallbacks = void 0;\n    };\n    this._host.dispatchEvent(\n      vdsEvent(\"vds-context-consumer-connect\", {\n        bubbles: true,\n        composed: true,\n        detail: {\n          id: this.id,\n          setValue\n        }\n      })\n    );\n    if (!this.registered) {\n      const orphans = orphanConsumers.get(this.id) ?? [];\n      orphans.push({ host: this._host, setValue });\n      orphanConsumers.set(this.id, orphans);\n    }\n  }\n  whenRegistered(callback) {\n    if (this.registered) {\n      callback(this.value);\n      return;\n    }\n    this._registrationCallbacks?.push(callback);\n  }\n};\nfunction adoptOrphans(id, provider) {\n  const orphans = orphanConsumers.get(id) ?? [];\n  const adoptees = orphans.filter(({ host }) => provider.contains(host));\n  orphanConsumers.set(\n    id,\n    orphans.filter(({ host }) => !provider.contains(host))\n  );\n  return adoptees;\n}\n\n// src/context/ContextProviderController.ts\nvar ContextProviderController = class {\n  constructor(_host, _initValue, _options) {\n    this._host = _host;\n    this._initValue = _initValue;\n    this._options = _options;\n    this._stopDisposal = new DisposalBin();\n    this._value = _initValue();\n    _host.addController({\n      hostConnected: this.start.bind(this),\n      hostDisconnected: this.stop.bind(this)\n    });\n  }\n  get id() {\n    return this._options.id;\n  }\n  get value() {\n    return this._value;\n  }\n  start() {\n    const dispose = listen(\n      this._host,\n      \"vds-context-consumer-connect\",\n      this._handleConsumerConnect.bind(this)\n    );\n    for (const orphan of adoptOrphans(this.id, this._host)) {\n      orphan.setValue(this._value);\n    }\n    this._stopDisposal.add(dispose);\n  }\n  stop() {\n    this._stopDisposal.empty();\n  }\n  _handleConsumerConnect(event) {\n    const consumer = event.detail;\n    if (consumer.id !== this.id)\n      return;\n    event.stopImmediatePropagation();\n    consumer.setValue(this._value);\n  }\n};\n\n// src/context/context.ts\nfunction createContext(initValue) {\n  const id = Symbol(\"@vidstack/context\");\n  return {\n    id,\n    consume(host) {\n      return new ContextConsumerController(host, initValue(), { id });\n    },\n    provide(host) {\n      return new ContextProviderController(host, initValue, { id });\n    }\n  };\n}\nfunction isContext(context) {\n  return typeof context?.id === \"symbol\" && context.id.description === \"@vidstack/context\";\n}\n\n// src/directives/if-non-empty.ts\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nfunction ifNonEmpty(value) {\n  return ifDefined(value === \"\" || value === \"undefined\" ? void 0 : value);\n}\n\n// src/directives/if-number.ts\nimport { ifDefined as ifDefined2 } from \"lit/directives/if-defined.js\";\n\n// src/utils/unit.ts\nfunction noop(...args) {\n}\nfunction notEqual(valueA, valueB) {\n  return valueB !== valueA && (valueB === valueB || valueA === valueA);\n}\nfunction safeNotEqual(a, b) {\n  return a != a ? b == b : a !== b || a && typeof a === \"object\" || typeof a === \"function\";\n}\nfunction equal(valueA, valueB) {\n  return !notEqual(valueA, valueB);\n}\nfunction isNull(value) {\n  return value === null;\n}\nfunction isUndefined(value) {\n  return typeof value === \"undefined\";\n}\nfunction isNil(value) {\n  return isNull(value) || isUndefined(value);\n}\nfunction isObject(value) {\n  return value?.constructor === Object;\n}\nfunction isNumber(value) {\n  return typeof value === \"number\" && !Number.isNaN(value);\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction createRegex(regex) {\n  return isString(regex) ? new RegExp(regex) : regex;\n}\nfunction isWindow(value) {\n  return value === window;\n}\n\n// src/directives/if-number.ts\nfunction ifNumber(value) {\n  return ifDefined2(isNumber(value) ? value : void 0);\n}\n\n// src/elements/discovery/discover.ts\nvar discoverers = /* @__PURE__ */ new Map();\nvar discoverables = /* @__PURE__ */ new Map();\nfunction connect(discoverable2, id, onDisconnect) {\n  for (const { host, callback } of Array.from(discoverers.get(id) ?? [])) {\n    if (host !== discoverable2 && host.contains(discoverable2)) {\n      callback(discoverable2, onDisconnect);\n    }\n  }\n}\nfunction find(host, id) {\n  return Array.from(discoverables.get(id) ?? []).filter(\n    ({ element }) => host !== element && host.contains(element)\n  );\n}\nfunction discover(host, id, callback) {\n  const discoverer = { host, callback };\n  host.addController({\n    hostConnected: () => {\n      for (const { element, onDisconnect } of find(host, id)) {\n        callback(element, onDisconnect);\n      }\n      discoverers.set(id, (discoverers.get(id) ?? /* @__PURE__ */ new Set()).add(discoverer));\n    },\n    hostDisconnected: () => {\n      discoverers.get(id)?.delete(discoverer);\n    }\n  });\n}\nfunction discoverable(host, eventType, options = {}) {\n  const id = options.register;\n  const disconnectDisposal = new DisposalBin();\n  const onDisconnect = (callback) => {\n    disconnectDisposal.add(callback);\n  };\n  const discoverable2 = {\n    element: host,\n    onDisconnect\n  };\n  host.addController({\n    hostConnected() {\n      const event = vdsEvent(eventType, {\n        bubbles: true,\n        composed: true,\n        detail: discoverable2\n      });\n      host.dispatchEvent(event);\n      if (id) {\n        discoverables.set(id, (discoverables.get(id) ?? /* @__PURE__ */ new Set()).add(discoverable2));\n        connect(host, id, onDisconnect);\n      }\n    },\n    hostDisconnected() {\n      disconnectDisposal.empty();\n      if (id) {\n        discoverables.get(id)?.delete(discoverable2);\n      }\n    }\n  });\n}\n\n// src/utils/support.ts\nvar IS_CLIENT = typeof window !== \"undefined\";\nvar UA = IS_CLIENT ? window.navigator?.userAgent.toLowerCase() : \"\";\nvar IS_IOS = /iphone|ipad|ipod|ios|CriOS|FxiOS/.test(UA);\nvar IS_ANDROID = /android/.test(UA);\nvar IS_MOBILE = IS_CLIENT && (IS_IOS || IS_ANDROID);\nvar IS_IPHONE = IS_CLIENT && /(iPhone|iPod)/gi.test(window.navigator?.platform);\nvar IS_FIREFOX = /firefox/.test(UA);\nvar IS_CHROME = IS_CLIENT && !!window.chrome;\nvar IS_SAFARI = IS_CLIENT && !IS_CHROME && (window.safari || IS_IOS || /(apple|safari)/.test(UA));\nvar ORIGIN = IS_CLIENT && window.location.protocol !== \"file:\" ? `${window.location.protocol}//${window.location.hostname}` : void 0;\nfunction currentSafariVersion() {\n  return IS_CLIENT ? Number((/Safari\\/(\\d+)/.exec(navigator.userAgent) ?? [\"\", 0])[1]) : 0;\n}\nfunction canFullscreenVideo() {\n  if (!IS_CLIENT)\n    return false;\n  const video = document.createElement(\"video\");\n  return isFunction(video.webkitEnterFullscreen);\n}\nfunction canObserveIntersection() {\n  return IS_CLIENT && !isUndefined(window.IntersectionObserver);\n}\nfunction canOrientScreen() {\n  return IS_CLIENT && !isUndefined(screen.orientation) && isFunction(screen.orientation.lock) && isFunction(screen.orientation.unlock);\n}\nfunction canRotateScreen() {\n  return IS_CLIENT && !isUndefined(window.screen.orientation) && !isUndefined(window.screen.orientation.lock);\n}\nfunction isReducedMotionPreferred() {\n  return IS_CLIENT && \"matchMedia\" in window && window.matchMedia(\"(prefers-reduced-motion)\").matches;\n}\nfunction canPlayHLSNatively() {\n  if (!IS_CLIENT)\n    return false;\n  const video = document.createElement(\"video\");\n  return video.canPlayType(\"application/vnd.apple.mpegurl\").length > 0;\n}\nfunction canUsePiPInChrome() {\n  if (!IS_CLIENT)\n    return false;\n  const video = document.createElement(\"video\");\n  return !!document.pictureInPictureEnabled && !video.disablePictureInPicture;\n}\nfunction canUsePiPInSafari() {\n  if (!IS_CLIENT)\n    return false;\n  const video = document.createElement(\"video\");\n  return isFunction(video.webkitSupportsPresentationMode) && isFunction(video.webkitSetPresentationMode) && !IS_IPHONE;\n}\nfunction canUsePiP() {\n  return canUsePiPInChrome() || canUsePiPInSafari();\n}\nfunction canAutoplay(muted = true, playsinline = true) {\n  if (!IS_CLIENT)\n    return Promise.resolve(false);\n  const video = document.createElement(\"video\");\n  if (muted) {\n    video.setAttribute(\"muted\", \"\");\n    video.muted = true;\n  }\n  if (playsinline) {\n    video.setAttribute(\"playsinline\", \"\");\n    video.setAttribute(\"webkit-playsinline\", \"\");\n  }\n  video.setAttribute(\"height\", \"0\");\n  video.setAttribute(\"width\", \"0\");\n  video.style.position = \"fixed\";\n  video.style.top = \"0\";\n  video.style.width = \"0\";\n  video.style.height = \"0\";\n  video.style.opacity = \"0\";\n  new Promise((resolve) => resolve(video.play())).catch(noop);\n  return Promise.resolve(!video.paused);\n}\nfunction getMediaSource() {\n  return window?.MediaSource ?? window?.WebKitMediaSource;\n}\nfunction getSourceBuffer() {\n  return window?.SourceBuffer ?? window?.WebKitSourceBuffer;\n}\nfunction isHlsjsSupported() {\n  const mediaSource = getMediaSource();\n  if (isUndefined(mediaSource)) {\n    return false;\n  }\n  const isTypeSupported = mediaSource && isFunction(mediaSource.isTypeSupported) && mediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"');\n  const sourceBuffer = getSourceBuffer();\n  const isSourceBufferValid = isUndefined(sourceBuffer) || !isUndefined(sourceBuffer.prototype) && isFunction(sourceBuffer.prototype.appendBuffer) && isFunction(sourceBuffer.prototype.remove);\n  return !!isTypeSupported && !!isSourceBufferValid;\n}\n\n// src/elements/WithFocus.ts\nvar focusableSelector = `\n  ${[\n  \"a[href]\",\n  \"area[href]\",\n  `input:not([disabled]):not([tabindex='-1'])`,\n  `button:not([disabled]):not([tabindex='-1'])`,\n  `select:not([disabled]):not([tabindex='-1'])`,\n  `textarea:not([disabled]):not([tabindex='-1'])`,\n  \"iframe\",\n  \"object\",\n  \"embed\",\n  `*[tabindex]:not([tabindex='-1'])`,\n  \"*[contenteditable=true]\",\n  \"vds-fullscreen-button\",\n  \"vds-mute-button\",\n  \"vds-play-button\",\n  \"vds-slider\",\n  \"vds-time-slider\",\n  \"vds-volume-slider\"\n].join(\", \")}\n`;\nfunction WithFocus(Base) {\n  return class WithFocusMixin extends Base {\n    static get shadowRootOptions() {\n      return {\n        ...Base.shadowRootOptions,\n        delegatesFocus: currentSafariVersion() <= 537\n      };\n    }\n    focus() {\n      if (this.shadowRoot?.delegatesFocus) {\n        super.focus();\n      } else {\n        const delegateTarget = this.shadowRoot?.querySelector(focusableSelector) || this.querySelector(focusableSelector);\n        if (delegateTarget) {\n          delegateTarget.focus();\n        } else {\n          super.focus();\n        }\n      }\n    }\n  };\n}\n\n// ../../node_modules/.pnpm/fscreen@1.2.0/node_modules/fscreen/dist/fscreen.esm.js\nvar key = {\n  fullscreenEnabled: 0,\n  fullscreenElement: 1,\n  requestFullscreen: 2,\n  exitFullscreen: 3,\n  fullscreenchange: 4,\n  fullscreenerror: 5,\n  fullscreen: 6\n};\nvar webkit = [\n  \"webkitFullscreenEnabled\",\n  \"webkitFullscreenElement\",\n  \"webkitRequestFullscreen\",\n  \"webkitExitFullscreen\",\n  \"webkitfullscreenchange\",\n  \"webkitfullscreenerror\",\n  \"-webkit-full-screen\"\n];\nvar moz = [\n  \"mozFullScreenEnabled\",\n  \"mozFullScreenElement\",\n  \"mozRequestFullScreen\",\n  \"mozCancelFullScreen\",\n  \"mozfullscreenchange\",\n  \"mozfullscreenerror\",\n  \"-moz-full-screen\"\n];\nvar ms = [\n  \"msFullscreenEnabled\",\n  \"msFullscreenElement\",\n  \"msRequestFullscreen\",\n  \"msExitFullscreen\",\n  \"MSFullscreenChange\",\n  \"MSFullscreenError\",\n  \"-ms-fullscreen\"\n];\nvar document2 = typeof window !== \"undefined\" && typeof window.document !== \"undefined\" ? window.document : {};\nvar vendor = \"fullscreenEnabled\" in document2 && Object.keys(key) || webkit[0] in document2 && webkit || moz[0] in document2 && moz || ms[0] in document2 && ms || [];\nvar fscreen = {\n  requestFullscreen: function(element) {\n    return element[vendor[key.requestFullscreen]]();\n  },\n  requestFullscreenFunction: function(element) {\n    return element[vendor[key.requestFullscreen]];\n  },\n  get exitFullscreen() {\n    return document2[vendor[key.exitFullscreen]].bind(document2);\n  },\n  get fullscreenPseudoClass() {\n    return \":\" + vendor[key.fullscreen];\n  },\n  addEventListener: function(type, handler, options) {\n    return document2.addEventListener(vendor[key[type]], handler, options);\n  },\n  removeEventListener: function(type, handler, options) {\n    return document2.removeEventListener(vendor[key[type]], handler, options);\n  },\n  get fullscreenEnabled() {\n    return Boolean(document2[vendor[key.fullscreenEnabled]]);\n  },\n  set fullscreenEnabled(val) {\n  },\n  get fullscreenElement() {\n    return document2[vendor[key.fullscreenElement]];\n  },\n  set fullscreenElement(val) {\n  },\n  get onfullscreenchange() {\n    return document2[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()];\n  },\n  set onfullscreenchange(handler) {\n    return document2[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()] = handler;\n  },\n  get onfullscreenerror() {\n    return document2[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()];\n  },\n  set onfullscreenerror(handler) {\n    return document2[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()] = handler;\n  }\n};\nvar fscreen_esm_default = fscreen;\n\n// src/logger/events.ts\nfunction logEvent(level, ...data) {\n  return vdsEvent(\"vds-log\", {\n    bubbles: true,\n    composed: true,\n    detail: {\n      level,\n      data\n    }\n  });\n}\n\n// src/logger/grouped-log.ts\nvar GROUPED_LOG_ID = Symbol(\"@vidstack/grouped-log\");\nfunction isGroupedLog(data) {\n  return isObject(data) && data[GROUPED_LOG_ID] === true;\n}\nfunction groupedLog(title, parent) {\n  const logs = [];\n  const group = {\n    [GROUPED_LOG_ID]: true,\n    title,\n    logs,\n    log(...data) {\n      logs.push({ data });\n      return group;\n    },\n    labelledLog(label, ...data) {\n      logs.push({ label, data });\n      return group;\n    },\n    groupStart(title2) {\n      return groupedLog(title2, group);\n    },\n    groupEnd() {\n      parent?.logs.push(group);\n      return parent ?? group;\n    }\n  };\n  return group;\n}\n\n// src/logger/LogDispatcher.ts\nvar LogDispatcher = class {\n  constructor(_host) {\n    this._host = _host;\n  }\n  error(...data) {\n    this._dispatch(\"error\", ...data);\n  }\n  warn(...data) {\n    this._dispatch(\"warn\", ...data);\n  }\n  info(...data) {\n    this._dispatch(\"info\", ...data);\n  }\n  debug(...data) {\n    this._dispatch(\"debug\", ...data);\n  }\n  errorGroup(title) {\n    return this._groupDispatcher(\"error\", title);\n  }\n  warnGroup(title) {\n    return this._groupDispatcher(\"warn\", title);\n  }\n  infoGroup(title) {\n    return this._groupDispatcher(\"info\", title);\n  }\n  debugGroup(title) {\n    return this._groupDispatcher(\"debug\", title);\n  }\n  _dispatch(level, ...data) {\n    this._host.dispatchEvent(logEvent(level, ...data));\n  }\n  _groupDispatcher(level, title, rootGroup, parentGroup) {\n    const group = groupedLog(title, parentGroup);\n    group.dispatch = () => {\n      this._dispatch(level, rootGroup ?? group);\n    };\n    return {\n      ...group,\n      groupStart: (title2) => {\n        return this._groupDispatcher(level, title2, rootGroup ?? group, group);\n      }\n    };\n  }\n};\n\n// src/logger/log-lifecycle.ts\nfunction logElementLifecycle(_host) {\n  const logger = new LogDispatcher(_host);\n  _host.addController({\n    hostConnected() {\n      logger.debug(\"\\u{1F517} connected\");\n    },\n    hostUpdated() {\n      logger.debug(\"\\u{1F504} updated\");\n    },\n    hostDisconnected() {\n      logger.debug(\"\\u{1F5D1}\\uFE0F disconnected\");\n    }\n  });\n}\n\n// src/logger/colors.ts\nvar LOCAL_STORAGE_KEY = \"@vidstack/log-colors\";\nvar colors = getSavedColors();\nfunction getSavedColors() {\n  if (IS_CLIENT && !isUndefined(window.localStorage)) {\n    let colors2 = {};\n    try {\n      colors2 = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY) ?? \"\");\n    } catch {\n    }\n    return new Map(Object.entries(colors2));\n  }\n  return /* @__PURE__ */ new Map();\n}\nfunction getColor(key2) {\n  return colors.get(key2);\n}\nfunction saveColor(key2, { color = generateColor(), overwrite = false } = {}) {\n  if (!colors.has(key2) || overwrite) {\n    colors.set(key2, color);\n    saveColors();\n  }\n}\nfunction generateColor() {\n  return `hsl(${Math.random() * 360}, 55%, 70%)`;\n}\nfunction saveColors() {\n  if (IS_CLIENT && !isUndefined(window.localStorage)) {\n    const map = {};\n    colors.forEach(function(value, key2) {\n      map[key2] = value;\n    });\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(map));\n  }\n}\n\n// src/logger/LogLevel.ts\nvar LogLevelValue = Object.freeze({\n  silent: 0,\n  error: 1,\n  warn: 2,\n  info: 3,\n  debug: 4\n});\nvar LogLevelColor = Object.freeze({\n  silent: \"white\",\n  error: \"hsl(6, 58%, 50%)\",\n  warn: \"hsl(51, 58%, 50%)\",\n  info: \"hsl(219, 58%, 50%)\",\n  debug: \"hsl(280, 58%, 50%)\"\n});\n\n// src/utils/number.ts\nfunction round(num, decimalPlaces = 2) {\n  return Number(num.toFixed(decimalPlaces));\n}\nfunction clampNumber(min, value, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction getNumberOfDecimalPlaces(num) {\n  return String(num).split(\".\")[1]?.length ?? 0;\n}\n\n// src/logger/ms.ts\nvar s = 1e3;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nfunction ms2(val) {\n  const msAbs = Math.abs(val);\n  if (msAbs >= d) {\n    return Math.round(val / d) + \"d\";\n  }\n  if (msAbs >= h) {\n    return Math.round(val / h) + \"h\";\n  }\n  if (msAbs >= m) {\n    return Math.round(val / m) + \"m\";\n  }\n  if (msAbs >= s) {\n    return Math.round(val / s) + \"s\";\n  }\n  return round(val, 2) + \"ms\";\n}\n\n// src/logger/LogController.ts\nvar LogController = class {\n  constructor(_host) {\n    this._host = _host;\n    this.logLevel = true ? \"warn\" : \"silent\";\n    this._disposal = new DisposalBin();\n    _host.addController({\n      hostConnected: this._start.bind(this),\n      hostDisconnected: this._stop.bind(this)\n    });\n  }\n  _start() {\n    this._disposal.add(\n      listen(this._host, \"vds-log\", (event) => {\n        event.stopPropagation();\n        const eventTargetName = (event.path?.[0] ?? event.target).tagName.toLowerCase();\n        const { level = \"warn\", data } = event.detail;\n        if (LogLevelValue[this.logLevel] < LogLevelValue[level]) {\n          return;\n        }\n        saveColor(eventTargetName);\n        const hint = data?.length === 1 && isGroupedLog(data[0]) ? data[0].title : isString(data?.[0]) ? data[0] : \"\";\n        console.groupCollapsed(\n          `%c${level.toUpperCase()}%c ${eventTargetName}%c ${hint.slice(0, 50)}${hint.length > 50 ? \"...\" : \"\"}`,\n          `background: ${LogLevelColor[level]}; color: white; padding: 1.5px 2.2px; border-radius: 2px; font-size: 11px;`,\n          `color: ${getColor(eventTargetName)}; padding: 4px 0px; font-size: 11px;`,\n          \"color: gray; font-size: 11px; padding-left: 4px;\"\n        );\n        if (data?.length === 1 && isGroupedLog(data[0])) {\n          this._logGroup(level, data[0]);\n        } else if (data) {\n          this._log(level, ...data);\n        }\n        this._logTimeDiff();\n        this._logStackTrace();\n        console.groupEnd();\n      })\n    );\n  }\n  _stop() {\n    this._lastLogTimestamp = void 0;\n    this._disposal.empty();\n  }\n  _logGroup(level, groupedLog2) {\n    console.groupCollapsed(groupedLog2.title);\n    for (const log of groupedLog2.logs) {\n      if (isGroupedLog(log)) {\n        this._logGroup(level, log);\n      } else if (\"label\" in log && !isUndefined(log.label)) {\n        this._labelledLog(log.label, ...log.data);\n      } else {\n        this._log(level, ...log.data);\n      }\n    }\n    console.groupEnd();\n  }\n  _log(level, ...data) {\n    console[level](...data);\n  }\n  _labelledLog(label, ...data) {\n    console.log(`%c${label}:`, \"color: gray\", ...data);\n  }\n  _logStackTrace() {\n    console.groupCollapsed(\"%cStack Trace\", \"color: gray\");\n    console.trace();\n    console.groupEnd();\n  }\n  _logTimeDiff() {\n    this._labelledLog(\"Time since last log\", this._getLastLogTimeDiff());\n  }\n  _getLastLogTimeDiff() {\n    const time = performance.now();\n    const diff = time - (this._lastLogTimestamp || (this._lastLogTimestamp = performance.now()));\n    this._lastLogTimestamp = time;\n    return ms2(diff);\n  }\n};\n\n// src/fullscreen/FullscreenController.ts\nvar FullscreenController = class {\n  constructor(_host, _screenOrientationController) {\n    this._host = _host;\n    this._screenOrientationController = _screenOrientationController;\n    this._logger = true ? new LogDispatcher(this._host) : void 0;\n    this._listenerDisposal = new DisposalBin();\n    _host.addController({\n      hostDisconnected: this._handleHostDisconnected.bind(this)\n    });\n  }\n  async _handleHostDisconnected() {\n    if (this.isFullscreen)\n      await this.exitFullscreen();\n    this._listenerDisposal.empty();\n  }\n  get isSupported() {\n    return this.isSupportedNatively;\n  }\n  get isSupportedNatively() {\n    return fscreen_esm_default.fullscreenEnabled;\n  }\n  get isFullscreen() {\n    return this.isNativeFullscreen;\n  }\n  get isNativeFullscreen() {\n    if (fscreen_esm_default.fullscreenElement === this._host)\n      return true;\n    try {\n      return this._host.matches(\n        fscreen_esm_default.fullscreenPseudoClass\n      );\n    } catch (error) {\n      return false;\n    }\n  }\n  _addFullscreenChangeEventListener(listener) {\n    if (!this.isSupported)\n      return noop;\n    if (true) {\n      this._logger?.debug(\"adding `fullscreenchange` listener\");\n    }\n    const dispose = listen(fscreen_esm_default, \"fullscreenchange\", listener);\n    return () => {\n      if (true) {\n        this._logger?.debug(\"removing `fullscreenchange` listener\");\n      }\n      dispose();\n    };\n  }\n  _addFullscreenErrorEventListener(listener) {\n    if (!this.isSupported)\n      return noop;\n    if (true) {\n      this._logger?.debug(\"adding `fullscreenerror` listener\");\n    }\n    const dispose = listen(fscreen_esm_default, \"fullscreenerror\", listener);\n    return () => {\n      if (true) {\n        this._logger?.debug(\"removing `fullscreenerror` listener\");\n      }\n      dispose();\n    };\n  }\n  async enterFullscreen() {\n    if (this.isFullscreen)\n      return;\n    this._throwIfNoFullscreenSupport();\n    if (true) {\n      this._logger?.debug(\"requesting fullscreen\");\n    }\n    this._listenerDisposal.add(\n      this._addFullscreenChangeEventListener(this._handleFullscreenChange.bind(this))\n    );\n    this._listenerDisposal.add(\n      this._addFullscreenErrorEventListener(this._handleFullscreenError.bind(this))\n    );\n    const response = await this._makeEnterFullscreenRequest();\n    await this._lockScreenOrientation();\n    return response;\n  }\n  async _makeEnterFullscreenRequest() {\n    return fscreen_esm_default.requestFullscreen(this._host);\n  }\n  _handleFullscreenChange(event) {\n    if (!this.isFullscreen)\n      this._listenerDisposal.empty();\n    this._host.dispatchEvent(\n      vdsEvent(\"vds-fullscreen-change\", {\n        bubbles: true,\n        composed: true,\n        detail: this.isFullscreen,\n        triggerEvent: event\n      })\n    );\n  }\n  _handleFullscreenError(event) {\n    this._host.dispatchEvent(\n      vdsEvent(\"vds-fullscreen-error\", {\n        bubbles: true,\n        composed: true,\n        triggerEvent: event\n      })\n    );\n  }\n  async exitFullscreen() {\n    if (!this.isFullscreen)\n      return;\n    this._throwIfNoFullscreenSupport();\n    if (true) {\n      this._logger?.debug(\"exiting fullscreen\");\n    }\n    const response = await this._makeExitFullscreenRequest();\n    await this._unlockScreenOrientation();\n    return response;\n  }\n  async _makeExitFullscreenRequest() {\n    return fscreen_esm_default.exitFullscreen();\n  }\n  _shouldOrientScreen() {\n    return this._screenOrientationController.canOrient && !isUndefined(this.screenOrientationLock);\n  }\n  async _lockScreenOrientation() {\n    if (isUndefined(this.screenOrientationLock) || !this._shouldOrientScreen()) {\n      return;\n    }\n    await this._screenOrientationController.lock(this.screenOrientationLock);\n  }\n  async _unlockScreenOrientation() {\n    if (!this._shouldOrientScreen())\n      return;\n    await this._screenOrientationController.unlock();\n  }\n  _throwIfNoFullscreenSupport() {\n    if (this.isSupported)\n      return;\n    throw Error(\"Fullscreen API is not enabled or supported in this environment.\");\n  }\n};\n\n// src/observers/FocusVisibleController.ts\nvar FocusVisibleController = class {\n  constructor(_host) {\n    this._host = _host;\n    const disposal = new DisposalBin();\n    let hadKeyboardEvent = false;\n    disposal.add(\n      listen(document, \"pointerdown\", () => {\n        hadKeyboardEvent = false;\n      })\n    );\n    eventListener(_host, \"keydown\", (e) => {\n      if (e.metaKey || e.altKey || e.ctrlKey) {\n        return;\n      }\n      hadKeyboardEvent = true;\n    });\n    eventListener(_host, \"focus\", (e) => {\n      if (hadKeyboardEvent) {\n        _host.classList.add(\"focus-visible\");\n      }\n    });\n    eventListener(_host, \"blur\", (e) => {\n      _host.classList.remove(\"focus-visible\");\n    });\n    _host.addController({\n      hostDisconnected: () => {\n        disposal.empty();\n      }\n    });\n  }\n};\nfunction focusVisiblePolyfill(host) {\n  return new FocusVisibleController(host);\n}\n\n// src/observers/IntersectionController.ts\nvar IntersectionController = class {\n  constructor(_host, config = {}, _callback = () => true, _logger = true ? new LogDispatcher(_host) : void 0) {\n    this._host = _host;\n    this._callback = _callback;\n    this._logger = _logger;\n    this._skipInitial = false;\n    this._unobservedUpdate = false;\n    const { target, skipInitial, ...intersectionObserverInit } = config;\n    this._target = target ?? void 0;\n    this._skipInitial = skipInitial ?? this._skipInitial;\n    if (!window.IntersectionObserver) {\n      if (true) {\n        _logger?.warn(`Browser does not support \\`IntersectionObserver\\`.`);\n      }\n      return;\n    }\n    this._observer = new IntersectionObserver((entries) => {\n      const unobservedUpdate = this._unobservedUpdate;\n      this._unobservedUpdate = false;\n      if (this._skipInitial && unobservedUpdate)\n        return;\n      this.handleChanges(entries);\n      this._host.requestUpdate();\n    }, intersectionObserverInit);\n    _host.addController(this);\n  }\n  handleChanges(entries) {\n    this.value = this._callback(entries, this._observer);\n  }\n  hostConnected() {\n    if (this._target) {\n      this.observe(this._target);\n    }\n  }\n  hostDisconnected() {\n    this._disconnect();\n  }\n  async hostUpdated() {\n    const pendingRecords = this._observer.takeRecords();\n    if (pendingRecords.length) {\n      this.handleChanges(pendingRecords);\n    }\n  }\n  observe(target) {\n    this._observer.observe(target);\n    this._unobservedUpdate = true;\n    return () => {\n      this._observer.unobserve(target);\n    };\n  }\n  _disconnect() {\n    this._observer.disconnect();\n  }\n};\nfunction createIntersectionController(...params) {\n  return new IntersectionController(...params);\n}\n\n// src/observers/PageController.ts\nvar IS_SAFARI2 = typeof window !== \"undefined\" && typeof window.safari === \"object\" && window?.safari.pushNotification;\nvar PageController = class {\n  constructor(_host, _callback, _logger = true ? new LogDispatcher(_host) : void 0) {\n    this._host = _host;\n    this._callback = _callback;\n    this._logger = _logger;\n    this._state = this._determinePageState();\n    this._visibility = document.visibilityState;\n    this._disposal = new DisposalBin();\n    _host.addController(this);\n  }\n  get state() {\n    return this._state;\n  }\n  get visibility() {\n    return this._visibility;\n  }\n  hostConnected() {\n    const pageEvents = [\"focus\", \"blur\", \"visibilitychange\", \"pageshow\", \"pagehide\"];\n    this._state = this._determinePageState();\n    this._visibility = document.visibilityState;\n    pageEvents.forEach((pageEvent) => {\n      const off = listen(window, pageEvent, this._handlePageEvent.bind(this));\n      this._disposal.add(off);\n    });\n    if (IS_SAFARI2) {\n      this._disposal.add(\n        listen(window, \"beforeunload\", (event) => {\n          this._safariBeforeUnloadTimeout = setTimeout(() => {\n            if (!(event.defaultPrevented || event.returnValue.length > 0)) {\n              this._state = \"hidden\";\n              this._visibility = \"hidden\";\n              this._triggerCallback();\n            }\n          }, 0);\n        })\n      );\n    }\n  }\n  hostDisconnected() {\n    this._disposal.empty();\n  }\n  _handlePageEvent(event) {\n    if (IS_SAFARI2) {\n      window.clearTimeout(this._safariBeforeUnloadTimeout);\n    }\n    const prevState = this._state;\n    const prevVisibility = this._visibility;\n    if (event.type !== \"blur\" || this.state === \"active\") {\n      this._state = this._determinePageState(event);\n      this._visibility = document.visibilityState == \"hidden\" ? \"hidden\" : \"visible\";\n    }\n    if (this.state !== prevState || this.visibility !== prevVisibility) {\n      this._triggerCallback();\n    }\n  }\n  _triggerCallback() {\n    this._callback({ state: this.state, visibility: this.visibility });\n  }\n  _determinePageState(event) {\n    if (false)\n      return \"hidden\";\n    if (event?.type === \"blur\" || document.visibilityState === \"hidden\") {\n      return \"hidden\";\n    }\n    if (document.hasFocus()) {\n      return \"active\";\n    }\n    return \"passive\";\n  }\n};\n\n// src/utils/promise.ts\nfunction deferredPromise() {\n  let resolve = noop;\n  let reject = noop;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { promise, resolve, reject };\n}\nfunction timedPromise(promise, timeout, timeoutMsg) {\n  const timer = new Promise((_, reject) => {\n    const timerId = window.setTimeout(() => {\n      window.clearTimeout(timerId);\n      reject(timeoutMsg);\n    }, timeout);\n  });\n  return Promise.race([promise, timer]);\n}\n\n// src/queue/RequestQueue.ts\nvar RequestQueue = class {\n  constructor() {\n    this._requestQueue = /* @__PURE__ */ new Map();\n    this._requestKeys = [];\n    this._pendingFlush = deferredPromise();\n    this._isServing = false;\n  }\n  get isServing() {\n    return this._isServing;\n  }\n  get size() {\n    return this._requestQueue.size;\n  }\n  async waitForFlush() {\n    if (this._isServing)\n      return;\n    await this._pendingFlush.promise;\n  }\n  queue(key2, callback) {\n    if (this._isServing) {\n      callback();\n      return;\n    }\n    this._requestKeys = [...this._requestKeys.filter((k) => k !== key2), key2];\n    this._requestQueue.set(key2, callback);\n  }\n  serve(key2) {\n    this._requestQueue.get(key2)?.();\n    this._requestQueue.delete(key2);\n  }\n  start() {\n    this._flush();\n    this._isServing = true;\n    if (this._requestQueue.size > 0) {\n      this._flush();\n    }\n  }\n  _flush() {\n    for (const requestKey of this._requestKeys) {\n      this.serve(requestKey);\n    }\n    this._requestKeys = [];\n    this._release();\n  }\n  _empty() {\n    this._requestQueue.clear();\n  }\n  _release() {\n    this._pendingFlush.resolve();\n    this._pendingFlush = deferredPromise();\n  }\n  stop() {\n    this._isServing = false;\n  }\n  destroy() {\n    this.stop();\n    this._empty();\n    this._release();\n  }\n};\n\n// src/queue/host-request-queue.ts\nfunction hostRequestQueue(host) {\n  const q = new RequestQueue();\n  host.addController({\n    hostConnected: q.start.bind(q),\n    hostDisconnected: q.destroy.bind(q)\n  });\n  return q;\n}\n\n// src/screen-orientation/ScreenOrientationController.ts\nvar ScreenOrientationController = class {\n  constructor(_host) {\n    this._host = _host;\n    this._isScreenOrientationLocked = false;\n    this._logger = true ? new LogDispatcher(this._host) : void 0;\n    this._updateScreenOrientation();\n    this._listenerDisposal = new DisposalBin();\n    _host.addController({\n      hostConnected: this._handleHostConnected.bind(this),\n      hostDisconnected: this._handleHostDisconnected.bind(this)\n    });\n  }\n  async _handleHostConnected() {\n    this._updateScreenOrientation();\n    this._addScreenOrientationEventListeners();\n  }\n  async _handleHostDisconnected() {\n    if (this.canOrient && this._isScreenOrientationLocked)\n      await this.unlock();\n    this._listenerDisposal.empty();\n  }\n  get currentOrientation() {\n    return this._screenOrientation;\n  }\n  get canOrient() {\n    return canOrientScreen();\n  }\n  get isLocked() {\n    return this._isScreenOrientationLocked;\n  }\n  async lock(lockType) {\n    this._throwIfScreenOrientationUnavailable();\n    if (true) {\n      this._logger?.debug(\"locking screen orientation to\", lockType);\n    }\n    await screen.orientation.lock(lockType);\n    this._isScreenOrientationLocked = true;\n    this._host.dispatchEvent(\n      vdsEvent(\"vds-screen-orientation-lock-change\", {\n        bubbles: true,\n        composed: true,\n        detail: lockType\n      })\n    );\n  }\n  async unlock() {\n    this._throwIfScreenOrientationUnavailable();\n    if (true) {\n      this._logger?.debug(\"unlocking screen orientation\");\n    }\n    await screen.orientation.unlock();\n    this._isScreenOrientationLocked = false;\n    this._host.dispatchEvent(\n      vdsEvent(\"vds-screen-orientation-lock-change\", {\n        bubbles: true,\n        composed: true,\n        detail: screen.orientation.type\n      })\n    );\n  }\n  _addScreenOrientationEventListeners() {\n    if (!this.canOrient)\n      return;\n    this._listenerDisposal.add(this._addScreenOrientationChangeEventListener());\n  }\n  _addScreenOrientationChangeEventListener() {\n    return listen(screen.orientation, \"change\", this._handleOrientationChange.bind(this));\n  }\n  _handleOrientationChange(event) {\n    this._screenOrientation = window.screen.orientation.type;\n    if (this._isScreenOrientationLocked) {\n      this._logger?.debug(\"screen orientation changed to\", this._screenOrientation);\n    }\n    this._host.dispatchEvent(\n      vdsEvent(\"vds-screen-orientation-change\", {\n        bubbles: true,\n        composed: true,\n        detail: this._screenOrientation,\n        triggerEvent: event\n      })\n    );\n  }\n  _updateScreenOrientation() {\n    this._screenOrientation = IS_CLIENT ? window.screen?.orientation?.type : void 0;\n  }\n  _throwIfScreenOrientationUnavailable() {\n    if (this.canOrient)\n      return;\n    throw Error(\"Screen orientation API is not available.\");\n  }\n};\n\n// src/utils/object.ts\nfunction keysOf(obj) {\n  return Object.keys(obj);\n}\nfunction pick(obj, keys) {\n  return keys.reduce(\n    (newObj, key2) => ({\n      ...newObj,\n      [key2]: obj[key2]\n    }),\n    {}\n  );\n}\nfunction omit(obj, keys) {\n  return keysOf(obj).filter((key2) => keys.indexOf(key2) < 0).reduce(\n    (newObj, key2) => ({\n      ...newObj,\n      [key2]: obj[key2]\n    }),\n    {}\n  );\n}\nvar hasOwnProperty = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nvar sortObjectsBy = (objects, sortKey) => objects.sort((a, b) => {\n  if (a[sortKey] === b[sortKey])\n    return 0;\n  return a[sortKey] < b[sortKey] ? -1 : 1;\n});\n\n// src/stores/store-subscription.ts\nfunction storeSubscription(host, store, onChange) {\n  let consumer;\n  let unsubscribe;\n  const subscribe = () => {\n    unsubscribe = (consumer?.value ?? store).subscribe(onChange);\n  };\n  if (isContext(store)) {\n    consumer = store.consume(host);\n  }\n  host.addController({\n    hostConnected() {\n      if (isContext(store)) {\n        consumer.whenRegistered(subscribe);\n      } else {\n        subscribe();\n      }\n    },\n    hostDisconnected() {\n      unsubscribe?.();\n    }\n  });\n}\n\n// src/stores/stores.ts\nvar subscriberQueue = [];\nfunction readable(value, start) {\n  return {\n    initialValue: value,\n    subscribe: writable(value, start).subscribe\n  };\n}\nfunction writable(value, start = noop) {\n  let stop;\n  const subscribers = /* @__PURE__ */ new Set();\n  function set(newValue) {\n    if (safeNotEqual(value, newValue)) {\n      value = newValue;\n      if (stop) {\n        const runQueue = !subscriberQueue.length;\n        for (const subscriber of subscribers) {\n          subscriber[1]();\n          subscriberQueue.push(subscriber, value);\n        }\n        if (runQueue) {\n          for (let i = 0; i < subscriberQueue.length; i += 2) {\n            subscriberQueue[i][0](subscriberQueue[i + 1]);\n          }\n          subscriberQueue.length = 0;\n        }\n      }\n    }\n  }\n  function update(updater) {\n    set(updater(value));\n  }\n  function subscribe(run, invalidate = noop) {\n    const subscriber = [run, invalidate];\n    subscribers.add(subscriber);\n    if (subscribers.size === 1) {\n      stop = start(set) || noop;\n    }\n    run(value);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0) {\n        stop?.();\n        stop = null;\n      }\n    };\n  }\n  return { initialValue: value, set, update, subscribe };\n}\nfunction derived(stores, fn, initialValue) {\n  const single = !Array.isArray(stores);\n  const storesArray = single ? [stores] : stores;\n  const auto = fn.length < 2;\n  return readable(initialValue, (set) => {\n    let initialized = false;\n    const values = [];\n    let pending = 0;\n    let cleanup = noop;\n    const sync = () => {\n      if (pending) {\n        return;\n      }\n      cleanup();\n      const result = fn(single ? values[0] : values, set);\n      if (auto) {\n        set(result);\n      } else {\n        cleanup = isFunction(result) ? result : noop;\n      }\n    };\n    const unsubscribers = storesArray.map(\n      (store, i) => store.subscribe(\n        (value) => {\n          values[i] = value;\n          pending &= ~(1 << i);\n          if (initialized) {\n            sync();\n          }\n        },\n        () => {\n          pending |= 1 << i;\n        }\n      )\n    );\n    initialized = true;\n    sync();\n    return function stop() {\n      unsubscribers.forEach((fn2) => fn2());\n      cleanup();\n    };\n  });\n}\nfunction getStoreValue(store) {\n  let value;\n  store.subscribe((_) => value = _)();\n  return value;\n}\n\n// src/stores/store-record.ts\nfunction storeRecordSubscription(host, store, key2, onChange) {\n  if (isContext(store)) {\n    const consumer = store.consume(host);\n    let unsubscribe;\n    const subscribe = () => {\n      unsubscribe = consumer.value[key2].subscribe(onChange);\n    };\n    host.addController({\n      hostConnected: () => {\n        consumer.whenRegistered(subscribe);\n      },\n      hostDisconnected: () => {\n        unsubscribe?.();\n      }\n    });\n  } else {\n    return storeSubscription(host, store[key2], onChange);\n  }\n}\nfunction copyStoreRecords(storeRecordA, storeRecordB) {\n  for (const key2 of keysOf(storeRecordA)) {\n    const storeA = storeRecordA[key2];\n    const storeB = storeRecordB[key2];\n    if (!storeA || !storeB)\n      continue;\n    const valA = getStoreValue(storeA);\n    const valB = getStoreValue(storeB);\n    if (valA !== valB)\n      storeB.set(valA);\n  }\n}\nfunction unwrapStoreRecord(store) {\n  return new Proxy(store, {\n    get(target, key2) {\n      return getStoreValue(target[key2]);\n    },\n    has(target, key2) {\n      return Reflect.has(target, key2);\n    },\n    ownKeys(target) {\n      return Reflect.ownKeys(target);\n    },\n    getOwnPropertyDescriptor(target, key2) {\n      return Reflect.getOwnPropertyDescriptor(target, key2);\n    }\n  });\n}\n\n// src/utils/aria.ts\nfunction ariaBool(value) {\n  return value ? \"true\" : \"false\";\n}\n\n// src/utils/array.ts\nfunction isScalarArrayEqual(arrayA, arrayB) {\n  return arrayA.length === arrayB.length && arrayA.every((value, i) => value === arrayB[i]);\n}\nfunction filterUnique(items, key2, options = {}) {\n  const seen = /* @__PURE__ */ new Set();\n  return items.filter((item) => {\n    if (options.removeNull && isNull(item[key2]))\n      return false;\n    if (options.removeUndefined && isUndefined(item[key2]))\n      return false;\n    const isUnique = !seen.has(item[key2]);\n    if (!isUnique) {\n      options.onDuplicateFound?.(item);\n    }\n    seen.add(item[key2]);\n    return isUnique;\n  });\n}\n\n// src/utils/dom.ts\nfunction raf(callback) {\n  return new Promise((resolve) => {\n    const rafId = window.requestAnimationFrame(async () => {\n      await callback?.();\n      resolve(rafId);\n    });\n  });\n}\nfunction walkUpDOMTree(node, onDiscover) {\n  let parent = node.parentElement;\n  while (parent) {\n    const skip = onDiscover(parent);\n    parent = skip ? null : parent.parentElement;\n  }\n}\nfunction buildExportPartsAttr(parts, prefix) {\n  return parts.map(\n    (part) => `${part}: ${!isFunction(prefix) ? prefix ? `${prefix}-` : \"\" : prefix(part)}${part}`\n  ).join(\", \");\n}\nfunction safelyDefineCustomElement(name, constructor, isClient = IS_CLIENT) {\n  const isElementRegistered = isClient && !isUndefined(window.customElements.get(name));\n  if (!isClient || isElementRegistered)\n    return;\n  window.customElements.define(name, constructor);\n}\nfunction setAttribute(element, attrName, attrValue) {\n  if (isNil(attrValue) || attrValue === false) {\n    element.removeAttribute(attrName);\n  } else {\n    const value = isString(attrValue) ? attrValue : \"\";\n    element.setAttribute(attrName, value);\n  }\n}\nfunction setAttributeIfEmpty(element, attrName, attrValue) {\n  if (!element.hasAttribute(attrName)) {\n    element.setAttribute(attrName, attrValue);\n  }\n}\nfunction setCSSProperty(element, name, value, prefix = \"vds\") {\n  element.style.setProperty(`--${prefix}-${name}`, value ? value : null);\n}\nfunction getSlottedChildren(el, name) {\n  const selector = name ? `slot[name=\"${name}\"]` : \"slot:not([name])\";\n  const slot = el.shadowRoot?.querySelector(selector);\n  const childNodes = slot?.assignedNodes({ flatten: true }) ?? [];\n  return Array.prototype.filter.call(childNodes, (node) => node.nodeType == Node.ELEMENT_NODE);\n}\nfunction getElementAttributes(elementCtor) {\n  return new Set(elementCtor.observedAttributes);\n}\nfunction observeAttributes(element, attributes, onChange, { skipInitial = false } = {}) {\n  const callback = (attrName) => {\n    const attrValue = element.getAttribute(attrName);\n    onChange?.(attrName, attrValue);\n  };\n  const observer = new MutationObserver((mutations) => {\n    for (const mutation of mutations) {\n      if (mutation.type === \"attributes\") {\n        callback(mutation.attributeName);\n      }\n    }\n  });\n  if (!skipInitial) {\n    for (const attrName of attributes) {\n      callback(attrName);\n    }\n  }\n  observer.observe(element, {\n    attributeFilter: Array.from(attributes)\n  });\n  return observer;\n}\nfunction requestIdleCallback(callback) {\n  if (false) {\n    callback();\n    return;\n  }\n  const idle = window.requestIdleCallback ?? ((fn) => fn());\n  if (document.readyState === \"complete\") {\n    idle(callback);\n  } else {\n    window.addEventListener(\n      \"load\",\n      () => {\n        idle(callback);\n      },\n      { once: true }\n    );\n  }\n}\n\n// src/utils/keyboard.ts\nfunction isKeyboardEvent(event) {\n  return event?.type.startsWith(\"key\") ?? false;\n}\nfunction wasEnterKeyPressed(event) {\n  return isKeyboardEvent(event) && event.key === \"Enter\";\n}\nfunction wasEscapeKeyPressed(event) {\n  return isKeyboardEvent(event) && event.key === \"Escape\";\n}\nfunction isKeyboardClick(event) {\n  return isKeyboardEvent(event) && (event.key === \"Enter\" || event.key === \" \");\n}\n\n// src/utils/network.ts\nfunction tryParseJSON(json) {\n  if (!isString(json))\n    return void 0;\n  try {\n    return JSON.parse(json);\n  } catch (error) {\n    return void 0;\n  }\n}\nfunction isObjOrJSON(value) {\n  return isString(value) && value.startsWith(\"{\") || isObject(value);\n}\nfunction objOrParseJSON(value) {\n  return isObject(value) ? value : tryParseJSON(value);\n}\nfunction loadImage(src, minWidth = 1) {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    const handler = () => {\n      image.naturalWidth >= minWidth ? resolve(image) : reject(image);\n    };\n    Object.assign(image, { onload: handler, onerror: handler, src });\n  });\n}\nasync function loadScript(src) {\n  const hasLoaded = document.querySelector(`script[src=\"${src}\"]`);\n  if (!isNull(hasLoaded))\n    return;\n  const script = document.createElement(\"script\");\n  const load = deferredPromise();\n  script.src = src;\n  script.onload = load.resolve;\n  script.onerror = load.reject;\n  const firstScriptTag = document.getElementsByTagName(\"script\")[0];\n  if (!isNil(firstScriptTag.parentNode)) {\n    firstScriptTag.parentNode.insertBefore(script, firstScriptTag);\n  }\n  return load.promise;\n}\nfunction decodeJSON(data) {\n  if (!isObjOrJSON(data))\n    return void 0;\n  return objOrParseJSON(data);\n}\nfunction tryDecodeURIComponent(component, fallback = \"\", isClient = IS_CLIENT) {\n  if (!isClient)\n    return fallback;\n  try {\n    return window.decodeURIComponent(component);\n  } catch (error) {\n    return fallback;\n  }\n}\nvar QUERY_STRING_REGEX = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\nfunction parseQueryString(qs) {\n  const params = /* @__PURE__ */ Object.create(null);\n  if (isUndefined(qs))\n    return params;\n  let match;\n  while (match = QUERY_STRING_REGEX.exec(qs)) {\n    const name = tryDecodeURIComponent(match[1], match[1]).replace(\"[]\", \"\");\n    const value = isString(match[2]) ? tryDecodeURIComponent(match[2].replace(/\\+/g, \" \"), match[2]) : \"\";\n    const currValue = params[name];\n    if (currValue && !isArray(currValue))\n      params[name] = [currValue];\n    currValue ? params[name].push(value) : params[name] = value;\n  }\n  return params;\n}\nfunction serializeQueryString(params) {\n  const qs = [];\n  const appendQueryParam = (param, v) => {\n    qs.push(`${encodeURIComponent(param)}=${encodeURIComponent(v)}`);\n  };\n  Object.keys(params).forEach((param) => {\n    const value = params[param];\n    if (isNil(value))\n      return;\n    if (isArray(value)) {\n      value.forEach((v) => appendQueryParam(param, v));\n    } else {\n      appendQueryParam(param, value);\n    }\n  });\n  return qs.join(\"&\");\n}\nfunction preconnect(url, rel = \"preconnect\", isClient = IS_CLIENT) {\n  if (!isClient)\n    return false;\n  const hasLink = document.querySelector(`link[href=\"${url}\"]`);\n  if (!isNull(hasLink))\n    return true;\n  const link = document.createElement(\"link\");\n  link.rel = rel;\n  link.href = url;\n  link.crossOrigin = \"true\";\n  document.head.append(link);\n  return true;\n}\nfunction appendQueryStringToURL(url, qs) {\n  if (isUndefined(qs) || qs.length === 0)\n    return url;\n  const mainAndQuery = url.split(\"?\", 2);\n  return mainAndQuery[0] + (!isUndefined(mainAndQuery[1]) ? `?${mainAndQuery[1]}&${qs}` : `?${qs}`);\n}\nfunction appendParamsToURL(url, params) {\n  return appendQueryStringToURL(url, isObject(params) ? serializeQueryString(params) : params);\n}\nfunction decodeQueryString(qs) {\n  if (!isString(qs))\n    return void 0;\n  return parseQueryString(qs);\n}\nvar ScriptLoader = class {\n  static async load(src) {\n    return new Promise((resolve, reject) => {\n      if (this.pendingRequests[src]) {\n        this.pendingRequests[src].push({ resolve, reject });\n        return;\n      }\n      this.pendingRequests[src] = [{ resolve, reject }];\n      loadScript(src).then(() => {\n        this.pendingRequests[src].forEach((request) => request.resolve());\n        delete this.pendingRequests[src];\n      }).catch((err) => {\n        this.pendingRequests[src].forEach((request) => request.reject(err));\n        delete this.pendingRequests[src];\n      });\n    });\n  }\n};\nScriptLoader.pendingRequests = {};\n\n// src/utils/scroll.ts\nfunction hideDocumentScrollbar(hidden) {\n  window.requestAnimationFrame(() => {\n    document.documentElement.classList[hidden ? \"add\" : \"remove\"](\"overflow-hidden\");\n    document.documentElement.classList[!hidden ? \"add\" : \"remove\"](\"overflow-x-hidden\");\n  });\n}\nfunction scrollIntoCenter(scroll, element, options = {}) {\n  const scrollTop = isWindow(scroll) ? window.pageYOffset : scroll.scrollTop;\n  const scrollHeight = isWindow(scroll) ? window.innerHeight : scroll.getBoundingClientRect().height;\n  const elementRect = element.getBoundingClientRect();\n  const center = elementRect.top + scrollTop - scrollHeight / 2;\n  scroll.scrollTo({\n    top: center + (options?.offset ?? 0),\n    behavior: options.behaviour\n  });\n}\n\n// src/utils/string.ts\nvar escapeQuotes = (str) => str.replace(/^\"+|\"+$/g, \"\").replace(/^'+|'+$/g, \"\");\nvar normalizeLineBreaks = (str) => str.replace(/\\\\r/g, \"\\n\");\nfunction splitLineBreaks(str) {\n  if (typeof str !== \"string\")\n    return [];\n  return normalizeLineBreaks(str).split(\"\\n\");\n}\nfunction uppercaseFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nfunction lowercaseFirstLetter(str) {\n  return str.charAt(0).toLowerCase() + str.slice(1);\n}\nfunction kebabToTitleCase(str) {\n  return uppercaseFirstLetter(str.replace(/-./g, (x) => \" \" + x[1].toUpperCase()));\n}\nfunction camelToKebabCase(str) {\n  return str.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\nfunction kebabToCamelCase(str) {\n  return str.replace(/-./g, (x) => x[1].toUpperCase());\n}\nfunction kebabToPascalCase(str) {\n  return kebabToTitleCase(str).replace(/\\s/g, \"\");\n}\nfunction camelToTitleCase(str) {\n  return uppercaseFirstLetter(str.replace(/([A-Z])/g, \" $1\"));\n}\n\n// src/utils/time.ts\nfunction padNumberWithZeroes(num, expectedLength) {\n  const str = String(num);\n  const actualLength = str.length;\n  const shouldPad = actualLength < expectedLength;\n  if (shouldPad) {\n    const padLength = expectedLength - actualLength;\n    const padding = `0`.repeat(padLength);\n    return `${padding}${num}`;\n  }\n  return str;\n}\nvar TimeUnit = /* @__PURE__ */ ((TimeUnit2) => {\n  TimeUnit2[\"Hours\"] = \"hours\";\n  TimeUnit2[\"Minutes\"] = \"minutes\";\n  TimeUnit2[\"Seconds\"] = \"seconds\";\n  TimeUnit2[\"Fraction\"] = \"fraction\";\n  return TimeUnit2;\n})(TimeUnit || {});\nfunction parseTime(duration) {\n  const hours = Math.trunc(duration / 3600);\n  const minutes = Math.trunc(duration % 3600 / 60);\n  const seconds = Math.trunc(duration % 60);\n  const fraction = Number((duration - Math.trunc(duration)).toPrecision(3));\n  return {\n    [\"hours\" /* Hours */]: hours,\n    [\"minutes\" /* Minutes */]: minutes,\n    [\"seconds\" /* Seconds */]: seconds,\n    [\"fraction\" /* Fraction */]: fraction\n  };\n}\nfunction formatTime(duration, shouldPadHours = false, shouldAlwaysShowHours = false) {\n  const { hours, minutes, seconds } = parseTime(duration);\n  const paddedHours = shouldPadHours ? padNumberWithZeroes(hours, 2) : hours;\n  const paddedMinutes = padNumberWithZeroes(minutes, 2);\n  const paddedSeconds = padNumberWithZeroes(seconds, 2);\n  if (hours > 0 || shouldAlwaysShowHours) {\n    return `${paddedHours}:${paddedMinutes}:${paddedSeconds}`;\n  }\n  return `${minutes}:${paddedSeconds}`;\n}\nfunction formatSpokenTime(duration) {\n  const spokenParts = [];\n  const { hours, minutes, seconds } = parseTime(duration);\n  const pluralize = (num, word) => num === 1 ? word : `${word}s`;\n  if (hours > 0) {\n    spokenParts.push(`${hours} ${pluralize(hours, \"hour\")}`);\n  }\n  if (minutes > 0) {\n    spokenParts.push(`${minutes} ${pluralize(minutes, \"minute\")}`);\n  }\n  if (seconds > 0 || spokenParts.length === 0) {\n    spokenParts.push(`${seconds} ${pluralize(seconds, \"second\")}`);\n  }\n  return spokenParts.join(\", \");\n}\nfunction formatHtml5Duration(duration) {\n  const { hours, minutes, seconds, fraction } = parseTime(duration);\n  return `PT${hours}H${minutes}M${seconds + fraction}S`;\n}\n\n// src/utils/timing.ts\nimport debounce from \"just-debounce-it\";\nimport throttle from \"just-throttle\";\nfunction wait(delay) {\n  return new Promise((resolve) => setTimeout(resolve, delay));\n}\nfunction rafThrottle(func) {\n  let rafId;\n  const pending = () => !isUndefined(rafId);\n  const cancel = () => {\n    if (isUndefined(rafId))\n      return;\n    window.cancelAnimationFrame(rafId);\n    rafId = void 0;\n  };\n  function throttled(...args) {\n    if (pending())\n      return;\n    rafId = window.requestAnimationFrame(() => {\n      func.apply(this, args);\n      rafId = void 0;\n    });\n  }\n  throttled.cancel = cancel;\n  throttled.pending = pending;\n  return throttled;\n}\nexport {\n  ContextConsumerController,\n  ContextProviderController,\n  DisposalBin,\n  FocusVisibleController,\n  FullscreenController,\n  GROUPED_LOG_ID,\n  IS_ANDROID,\n  IS_CHROME,\n  IS_CLIENT,\n  IS_FIREFOX,\n  IS_IOS,\n  IS_IPHONE,\n  IS_MOBILE,\n  IS_SAFARI,\n  IntersectionController,\n  LogController,\n  LogDispatcher,\n  LogLevelColor,\n  LogLevelValue,\n  ORIGIN,\n  PageController,\n  RequestQueue,\n  ScreenOrientationController,\n  ScriptLoader,\n  TimeUnit,\n  UA,\n  VdsEvent,\n  WithFocus,\n  adoptOrphans,\n  appendParamsToURL,\n  appendQueryStringToURL,\n  appendTriggerEvent,\n  ariaBool,\n  buildExportPartsAttr,\n  camelToKebabCase,\n  camelToTitleCase,\n  canAutoplay,\n  canFullscreenVideo,\n  canObserveIntersection,\n  canOrientScreen,\n  canPlayHLSNatively,\n  canRotateScreen,\n  canUsePiP,\n  canUsePiPInChrome,\n  canUsePiPInSafari,\n  clampNumber,\n  copyStoreRecords,\n  createContext,\n  createIntersectionController,\n  createRegex,\n  currentSafariVersion,\n  debounce,\n  decodeJSON,\n  decodeQueryString,\n  deferredPromise,\n  derived,\n  discover,\n  discoverable,\n  equal,\n  escapeQuotes,\n  eventListener,\n  filterUnique,\n  findTriggerEvent,\n  focusVisiblePolyfill,\n  focusableSelector,\n  formatHtml5Duration,\n  formatSpokenTime,\n  formatTime,\n  getStoreValue as get,\n  getElementAttributes,\n  getMediaSource,\n  getNumberOfDecimalPlaces,\n  getOriginEvent,\n  getSlottedChildren,\n  getSourceBuffer,\n  groupedLog,\n  hasOwnProperty,\n  hasTriggerEvent,\n  hideDocumentScrollbar,\n  hostRequestQueue,\n  ifNonEmpty,\n  ifNumber,\n  isArray,\n  isBoolean,\n  isContext,\n  isFunction,\n  isGroupedLog,\n  isHlsjsSupported,\n  isKeyboardClick,\n  isKeyboardEvent,\n  isMouseEvent,\n  isNil,\n  isNull,\n  isNumber,\n  isObjOrJSON,\n  isObject,\n  isPointerEvent,\n  isReducedMotionPreferred,\n  isScalarArrayEqual,\n  isString,\n  isTouchEvent,\n  isUndefined,\n  isVdsEvent,\n  isWindow,\n  kebabToCamelCase,\n  kebabToPascalCase,\n  kebabToTitleCase,\n  keysOf,\n  listen,\n  loadImage,\n  loadScript,\n  logElementLifecycle,\n  logEvent,\n  lowercaseFirstLetter,\n  noop,\n  normalizeLineBreaks,\n  notEqual,\n  objOrParseJSON,\n  observeAttributes,\n  omit,\n  padNumberWithZeroes,\n  parseQueryString,\n  parseTime,\n  pick,\n  preconnect,\n  raf,\n  rafThrottle,\n  readable,\n  redispatchEvent,\n  requestIdleCallback,\n  round,\n  safeNotEqual,\n  safelyDefineCustomElement,\n  scrollIntoCenter,\n  serializeQueryString,\n  setAttribute,\n  setAttributeIfEmpty,\n  setCSSProperty,\n  sortObjectsBy,\n  splitLineBreaks,\n  storeRecordSubscription,\n  storeSubscription,\n  throttle,\n  timedPromise,\n  tryDecodeURIComponent,\n  tryParseJSON,\n  unwrapStoreRecord,\n  uppercaseFirstLetter,\n  vdsEvent,\n  wait,\n  waitForEvent,\n  walkTriggerEventChain,\n  walkUpDOMTree,\n  wasEnterKeyPressed,\n  wasEscapeKeyPressed,\n  writable\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}