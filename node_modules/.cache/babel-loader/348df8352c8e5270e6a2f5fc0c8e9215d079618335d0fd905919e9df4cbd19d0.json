{"ast":null,"code":"import { SliderElement } from \"./chunk.ANNPV6ES.js\";\nimport { mediaStoreSubscription } from \"./chunk.O2H47C42.js\";\nimport { __decorateClass } from \"./chunk.LNH2V2XS.js\";\n\n// src/ui/time-slider/TimeSliderElement.ts\nimport { eventListener, formatSpokenTime, isKeyboardEvent, setAttributeIfEmpty, throttle } from \"@vidstack/foundation\";\nimport { property, state } from \"lit/decorators.js\";\n\n// src/ui/time-slider/styles.ts\nimport { css } from \"lit\";\nvar timeSliderElementStyles = css``;\n\n// src/ui/time-slider/TimeSliderElement.ts\nvar TimeSliderElement = class extends SliderElement {\n  constructor() {\n    super();\n    this._step = 0.1;\n    this.value = 0;\n    this.valueText = \"{currentTime} out of {duration}\";\n    this.pauseWhileDragging = false;\n    this.seekingRequestThrottle = 100;\n    this.__mediaDuration = 0;\n    this.__mediaPaused = true;\n    this._handleSliderDragStart = eventListener(this, \"vds-slider-drag-start\", event => {\n      this._togglePlaybackWhileDragging(event);\n    });\n    this._handleSliderValueChange = eventListener(this, \"vds-slider-value-change\", event => {\n      if (isKeyboardEvent(event.originEvent)) {\n        this._dispatchSeekingRequest.cancel();\n        this._mediaRemote.seek(this.value, event);\n      }\n    });\n    this._handleSliderDragValueChange = eventListener(this, \"vds-slider-drag-value-change\", event => {\n      this._dispatchSeekingRequest(event);\n    });\n    this._handleSliderDragEnd = eventListener(this, \"vds-slider-drag-end\", event => {\n      this._dispatchSeekingRequest.cancel();\n      this._mediaRemote.seek(this.value, event);\n      this._togglePlaybackWhileDragging(event);\n    });\n    this._dispatchSeekingRequest = throttle(event => {\n      this._mediaRemote.seeking(this.value, event);\n    }, this.seekingRequestThrottle);\n    this._wasPlayingBeforeDragStart = false;\n    mediaStoreSubscription(this, \"currentTime\", $currentTime => {\n      this.value = $currentTime;\n    });\n    mediaStoreSubscription(this, \"duration\", $duration => {\n      this.__mediaDuration = $duration;\n      this.requestUpdate(\"max\");\n    });\n    mediaStoreSubscription(this, \"paused\", $paused => {\n      this.__mediaPaused = $paused;\n    });\n  }\n  static get styles() {\n    return [super.styles, timeSliderElementStyles];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    setAttributeIfEmpty(this, \"aria-label\", \"Media time\");\n  }\n  get min() {\n    return 0;\n  }\n  set min(_) {}\n  get max() {\n    return this.__mediaDuration;\n  }\n  set max(_) {}\n  update(changedProperties) {\n    if (changedProperties.has(\"disabled\") && this.disabled) {\n      this._dispatchSeekingRequest.cancel();\n    }\n    super.update(changedProperties);\n  }\n  disconnectedCallback() {\n    this._dispatchSeekingRequest.cancel();\n    super.disconnectedCallback();\n  }\n  _getValueMin() {\n    return \"0%\";\n  }\n  _getValueNow() {\n    return `${Math.round(this.fillPercent)}%`;\n  }\n  _getValueText() {\n    return this.valueText.replace(\"{currentTime}\", formatSpokenTime(this.value)).replace(\"{duration}\", formatSpokenTime(this.__mediaDuration));\n  }\n  _getValueMax() {\n    return \"100%\";\n  }\n  _togglePlaybackWhileDragging(event) {\n    if (!this.pauseWhileDragging) return;\n    if (this.isDragging && !this.__mediaPaused) {\n      this._wasPlayingBeforeDragStart = true;\n      this._mediaRemote.pause(event);\n    } else if (this._wasPlayingBeforeDragStart && !this.isDragging && this.__mediaPaused) {\n      this._wasPlayingBeforeDragStart = false;\n      this._mediaRemote.play(event);\n    }\n  }\n};\n__decorateClass([property({\n  attribute: false,\n  state: true\n})], TimeSliderElement.prototype, \"value\", 2);\n__decorateClass([property({\n  attribute: false\n})], TimeSliderElement.prototype, \"min\", 1);\n__decorateClass([property({\n  attribute: false\n})], TimeSliderElement.prototype, \"max\", 1);\n__decorateClass([property({\n  attribute: \"value-text\"\n})], TimeSliderElement.prototype, \"valueText\", 2);\n__decorateClass([property({\n  attribute: \"pause-while-dragging\",\n  type: Boolean\n})], TimeSliderElement.prototype, \"pauseWhileDragging\", 2);\n__decorateClass([property({\n  attribute: \"seeking-request-throttle\",\n  type: Number\n})], TimeSliderElement.prototype, \"seekingRequestThrottle\", 2);\n__decorateClass([state()], TimeSliderElement.prototype, \"__mediaDuration\", 2);\n__decorateClass([state()], TimeSliderElement.prototype, \"__mediaPaused\", 2);\nexport { TimeSliderElement };","map":{"version":3,"names":["SliderElement","mediaStoreSubscription","__decorateClass","eventListener","formatSpokenTime","isKeyboardEvent","setAttributeIfEmpty","throttle","property","state","css","timeSliderElementStyles","TimeSliderElement","constructor","_step","value","valueText","pauseWhileDragging","seekingRequestThrottle","__mediaDuration","__mediaPaused","_handleSliderDragStart","event","_togglePlaybackWhileDragging","_handleSliderValueChange","originEvent","_dispatchSeekingRequest","cancel","_mediaRemote","seek","_handleSliderDragValueChange","_handleSliderDragEnd","seeking","_wasPlayingBeforeDragStart","$currentTime","$duration","requestUpdate","$paused","styles","connectedCallback","min","_","max","update","changedProperties","has","disabled","disconnectedCallback","_getValueMin","_getValueNow","Math","round","fillPercent","_getValueText","replace","_getValueMax","isDragging","pause","play","attribute","prototype","type","Boolean","Number"],"sources":["/Users/andrewkallmeyer/kall.com/node_modules/@vidstack/player/dist/dev/chunks/chunk.EMEGDAP5.js"],"sourcesContent":["import {\n  SliderElement\n} from \"./chunk.ANNPV6ES.js\";\nimport {\n  mediaStoreSubscription\n} from \"./chunk.O2H47C42.js\";\nimport {\n  __decorateClass\n} from \"./chunk.LNH2V2XS.js\";\n\n// src/ui/time-slider/TimeSliderElement.ts\nimport {\n  eventListener,\n  formatSpokenTime,\n  isKeyboardEvent,\n  setAttributeIfEmpty,\n  throttle\n} from \"@vidstack/foundation\";\nimport { property, state } from \"lit/decorators.js\";\n\n// src/ui/time-slider/styles.ts\nimport { css } from \"lit\";\nvar timeSliderElementStyles = css``;\n\n// src/ui/time-slider/TimeSliderElement.ts\nvar TimeSliderElement = class extends SliderElement {\n  constructor() {\n    super();\n    this._step = 0.1;\n    this.value = 0;\n    this.valueText = \"{currentTime} out of {duration}\";\n    this.pauseWhileDragging = false;\n    this.seekingRequestThrottle = 100;\n    this.__mediaDuration = 0;\n    this.__mediaPaused = true;\n    this._handleSliderDragStart = eventListener(\n      this,\n      \"vds-slider-drag-start\",\n      (event) => {\n        this._togglePlaybackWhileDragging(event);\n      }\n    );\n    this._handleSliderValueChange = eventListener(\n      this,\n      \"vds-slider-value-change\",\n      (event) => {\n        if (isKeyboardEvent(event.originEvent)) {\n          this._dispatchSeekingRequest.cancel();\n          this._mediaRemote.seek(this.value, event);\n        }\n      }\n    );\n    this._handleSliderDragValueChange = eventListener(\n      this,\n      \"vds-slider-drag-value-change\",\n      (event) => {\n        this._dispatchSeekingRequest(event);\n      }\n    );\n    this._handleSliderDragEnd = eventListener(this, \"vds-slider-drag-end\", (event) => {\n      this._dispatchSeekingRequest.cancel();\n      this._mediaRemote.seek(this.value, event);\n      this._togglePlaybackWhileDragging(event);\n    });\n    this._dispatchSeekingRequest = throttle((event) => {\n      this._mediaRemote.seeking(this.value, event);\n    }, this.seekingRequestThrottle);\n    this._wasPlayingBeforeDragStart = false;\n    mediaStoreSubscription(this, \"currentTime\", ($currentTime) => {\n      this.value = $currentTime;\n    });\n    mediaStoreSubscription(this, \"duration\", ($duration) => {\n      this.__mediaDuration = $duration;\n      this.requestUpdate(\"max\");\n    });\n    mediaStoreSubscription(this, \"paused\", ($paused) => {\n      this.__mediaPaused = $paused;\n    });\n  }\n  static get styles() {\n    return [super.styles, timeSliderElementStyles];\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    setAttributeIfEmpty(this, \"aria-label\", \"Media time\");\n  }\n  get min() {\n    return 0;\n  }\n  set min(_) {\n  }\n  get max() {\n    return this.__mediaDuration;\n  }\n  set max(_) {\n  }\n  update(changedProperties) {\n    if (changedProperties.has(\"disabled\") && this.disabled) {\n      this._dispatchSeekingRequest.cancel();\n    }\n    super.update(changedProperties);\n  }\n  disconnectedCallback() {\n    this._dispatchSeekingRequest.cancel();\n    super.disconnectedCallback();\n  }\n  _getValueMin() {\n    return \"0%\";\n  }\n  _getValueNow() {\n    return `${Math.round(this.fillPercent)}%`;\n  }\n  _getValueText() {\n    return this.valueText.replace(\"{currentTime}\", formatSpokenTime(this.value)).replace(\"{duration}\", formatSpokenTime(this.__mediaDuration));\n  }\n  _getValueMax() {\n    return \"100%\";\n  }\n  _togglePlaybackWhileDragging(event) {\n    if (!this.pauseWhileDragging)\n      return;\n    if (this.isDragging && !this.__mediaPaused) {\n      this._wasPlayingBeforeDragStart = true;\n      this._mediaRemote.pause(event);\n    } else if (this._wasPlayingBeforeDragStart && !this.isDragging && this.__mediaPaused) {\n      this._wasPlayingBeforeDragStart = false;\n      this._mediaRemote.play(event);\n    }\n  }\n};\n__decorateClass([\n  property({ attribute: false, state: true })\n], TimeSliderElement.prototype, \"value\", 2);\n__decorateClass([\n  property({ attribute: false })\n], TimeSliderElement.prototype, \"min\", 1);\n__decorateClass([\n  property({ attribute: false })\n], TimeSliderElement.prototype, \"max\", 1);\n__decorateClass([\n  property({ attribute: \"value-text\" })\n], TimeSliderElement.prototype, \"valueText\", 2);\n__decorateClass([\n  property({ attribute: \"pause-while-dragging\", type: Boolean })\n], TimeSliderElement.prototype, \"pauseWhileDragging\", 2);\n__decorateClass([\n  property({ attribute: \"seeking-request-throttle\", type: Number })\n], TimeSliderElement.prototype, \"seekingRequestThrottle\", 2);\n__decorateClass([\n  state()\n], TimeSliderElement.prototype, \"__mediaDuration\", 2);\n__decorateClass([\n  state()\n], TimeSliderElement.prototype, \"__mediaPaused\", 2);\n\nexport {\n  TimeSliderElement\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}