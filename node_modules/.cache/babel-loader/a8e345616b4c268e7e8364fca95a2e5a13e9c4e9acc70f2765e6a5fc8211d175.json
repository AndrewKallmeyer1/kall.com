{"ast":null,"code":"import { MediaRemoteControl } from \"./chunk.X5QPRJP2.js\";\nimport { mediaStoreSubscription } from \"./chunk.O2H47C42.js\";\nimport { __decorateClass } from \"./chunk.LNH2V2XS.js\";\n\n// src/ui/poster/PosterElement.ts\nimport { preconnect } from \"@vidstack/foundation\";\nimport { css, html, LitElement } from \"lit\";\nimport { property, state } from \"lit/decorators.js\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nvar didPreconnect = /* @__PURE__ */new Set();\nvar PosterElement = class extends LitElement {\n  constructor() {\n    super();\n    this.__canLoad = false;\n    this._mediaRemoteControl = new MediaRemoteControl(this);\n    mediaStoreSubscription(this, \"poster\", $poster => {\n      window.requestAnimationFrame(() => {\n        if (!this.__canLoad && !didPreconnect.has($poster)) {\n          preconnect($poster, \"prefetch\");\n          didPreconnect.add($poster);\n        }\n      });\n      this.__src = $poster;\n    });\n    mediaStoreSubscription(this, \"canLoad\", $canLoad => {\n      this._handleCanLoadChange($canLoad);\n      this.__canLoad = $canLoad;\n    });\n  }\n  static get styles() {\n    return [css`\n        :host {\n          display: block;\n          contain: content;\n          pointer-events: none;\n          object-fit: cover;\n          box-sizing: border-box;\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n\n        img {\n          display: block;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n          object-fit: inherit;\n          object-position: inherit;\n          user-select: none;\n          -webkit-user-select: none;\n          box-sizing: border-box;\n        }\n      `];\n  }\n  get src() {\n    return this.__src;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this._mediaRemoteControl.hidePoster();\n  }\n  disconnectedCallback() {\n    this._mediaRemoteControl.showPoster();\n    super.disconnectedCallback();\n    this._handleCanLoadChange(false);\n  }\n  render() {\n    return html`\n      <img\n        part=\"img\"\n        src=${ifDefined(this.__canLoad ? this.src : null)}\n        alt=${ifDefined(this.alt)}\n        @load=${this._handleImgLoad}\n        @error=${this._handleImgError}\n      />\n    `;\n  }\n  _setImgLoadingAttr() {\n    this.removeAttribute(\"img-error\");\n    this.removeAttribute(\"img-loaded\");\n    if (this.src && this.src.length > 0) {\n      this.setAttribute(\"img-loading\", \"\");\n    }\n  }\n  _handleImgLoad() {\n    this.removeAttribute(\"img-loading\");\n    this.setAttribute(\"img-loaded\", \"\");\n  }\n  _handleImgError() {\n    this.removeAttribute(\"img-loading\");\n    this.setAttribute(\"img-error\", \"\");\n  }\n  _handleCanLoadChange(canLoad) {\n    if (canLoad) {\n      this._setImgLoadingAttr();\n    } else {\n      this.removeAttribute(\"img-error\");\n      this.removeAttribute(\"img-loaded\");\n      this.removeAttribute(\"img-loading\");\n    }\n  }\n};\n__decorateClass([state()], PosterElement.prototype, \"__src\", 2);\n__decorateClass([state()], PosterElement.prototype, \"__canLoad\", 2);\n__decorateClass([property()], PosterElement.prototype, \"alt\", 2);\nexport { PosterElement };","map":{"version":3,"names":["MediaRemoteControl","mediaStoreSubscription","__decorateClass","preconnect","css","html","LitElement","property","state","ifDefined","didPreconnect","Set","PosterElement","constructor","__canLoad","_mediaRemoteControl","$poster","window","requestAnimationFrame","has","add","__src","$canLoad","_handleCanLoadChange","styles","src","connectedCallback","hidePoster","disconnectedCallback","showPoster","render","alt","_handleImgLoad","_handleImgError","_setImgLoadingAttr","removeAttribute","length","setAttribute","canLoad","prototype"],"sources":["/Users/andrewkallmeyer/kall.com/node_modules/@vidstack/player/dist/dev/chunks/chunk.MFS4ZDZH.js"],"sourcesContent":["import {\n  MediaRemoteControl\n} from \"./chunk.X5QPRJP2.js\";\nimport {\n  mediaStoreSubscription\n} from \"./chunk.O2H47C42.js\";\nimport {\n  __decorateClass\n} from \"./chunk.LNH2V2XS.js\";\n\n// src/ui/poster/PosterElement.ts\nimport { preconnect } from \"@vidstack/foundation\";\nimport { css, html, LitElement } from \"lit\";\nimport { property, state } from \"lit/decorators.js\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nvar didPreconnect = /* @__PURE__ */ new Set();\nvar PosterElement = class extends LitElement {\n  constructor() {\n    super();\n    this.__canLoad = false;\n    this._mediaRemoteControl = new MediaRemoteControl(this);\n    mediaStoreSubscription(this, \"poster\", ($poster) => {\n      window.requestAnimationFrame(() => {\n        if (!this.__canLoad && !didPreconnect.has($poster)) {\n          preconnect($poster, \"prefetch\");\n          didPreconnect.add($poster);\n        }\n      });\n      this.__src = $poster;\n    });\n    mediaStoreSubscription(this, \"canLoad\", ($canLoad) => {\n      this._handleCanLoadChange($canLoad);\n      this.__canLoad = $canLoad;\n    });\n  }\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: block;\n          contain: content;\n          pointer-events: none;\n          object-fit: cover;\n          box-sizing: border-box;\n        }\n\n        :host([hidden]) {\n          display: none;\n        }\n\n        img {\n          display: block;\n          width: 100%;\n          height: 100%;\n          pointer-events: none;\n          object-fit: inherit;\n          object-position: inherit;\n          user-select: none;\n          -webkit-user-select: none;\n          box-sizing: border-box;\n        }\n      `\n    ];\n  }\n  get src() {\n    return this.__src;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this._mediaRemoteControl.hidePoster();\n  }\n  disconnectedCallback() {\n    this._mediaRemoteControl.showPoster();\n    super.disconnectedCallback();\n    this._handleCanLoadChange(false);\n  }\n  render() {\n    return html`\n      <img\n        part=\"img\"\n        src=${ifDefined(this.__canLoad ? this.src : null)}\n        alt=${ifDefined(this.alt)}\n        @load=${this._handleImgLoad}\n        @error=${this._handleImgError}\n      />\n    `;\n  }\n  _setImgLoadingAttr() {\n    this.removeAttribute(\"img-error\");\n    this.removeAttribute(\"img-loaded\");\n    if (this.src && this.src.length > 0) {\n      this.setAttribute(\"img-loading\", \"\");\n    }\n  }\n  _handleImgLoad() {\n    this.removeAttribute(\"img-loading\");\n    this.setAttribute(\"img-loaded\", \"\");\n  }\n  _handleImgError() {\n    this.removeAttribute(\"img-loading\");\n    this.setAttribute(\"img-error\", \"\");\n  }\n  _handleCanLoadChange(canLoad) {\n    if (canLoad) {\n      this._setImgLoadingAttr();\n    } else {\n      this.removeAttribute(\"img-error\");\n      this.removeAttribute(\"img-loaded\");\n      this.removeAttribute(\"img-loading\");\n    }\n  }\n};\n__decorateClass([\n  state()\n], PosterElement.prototype, \"__src\", 2);\n__decorateClass([\n  state()\n], PosterElement.prototype, \"__canLoad\", 2);\n__decorateClass([\n  property()\n], PosterElement.prototype, \"alt\", 2);\n\nexport {\n  PosterElement\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}